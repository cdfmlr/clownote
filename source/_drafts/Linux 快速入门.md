---
date: 2020-07-24 09:01:16.900947
title: Linux 快速入门
---
# Linux 快速入门

很多打着 Linux 零基础入门旗号的资料都是开头就写一大堆历史，这个故事看看还是不错的，能给你带来感动、力量的话就更好了；但然后就不正常了，他上来给你一波安装步骤，大量的截图足够让你看地头晕目眩；再然后他就塞你一大堆命令，每个都用一句话解释一下，活像一本词典。这些资料里常出现诸如“文件夹”等 Windows 术语，虽然给 Windows 用户带来了亲切的熟悉感，但我想这并不利于你真正理解 Linux 并学习用 Linux 思考。

我认为，一份合格的 Linux 零基础入门要从何为计算、何为计算机开始。

## 计算与计算机

我不想在这里抄一堆定义，没人爱看那东西（至少我不爱看），我谈的只是我个人的想法。

我认为的计算，就是输入一点东西，通过某些操作的处理输出一些东西的这个过程。计算绝对不只是加减乘除，万物皆可计算、万物皆在计算，你我的脑子调控身体的过程也是计算。计算就像一个工厂，输入原料，他就生产出产品（输出）。

我们有的时候不必去了解一个计算的内部过程，只要能用就行。比如我们不需要了解手机是如何生产的，买来用就行了；再比如，frankly，我们不知道1+1这个运算是如何进行的，但我们知道其结果（输出）是2。这种知其然而不知其所以然，我把它称为*黑箱模型*。

我们知道，xx机就是由人类制作并使用来帮助/代替人力做xx事的东西。有意思的是，安照我刚才对“计算”的说法，任何机器都在做计算。洗衣机也在做计算！输入脏衣服，通过某个我们不需要知道细节的洗衣操作，输出干净衣服，这个过程就是一种“计算”：

![输入，操作，输出](https://tva1.sinaimg.cn/large/007S8ZIlgy1gh15hf9c80j30fl051dfu.jpg)

在这种思路下，本身就叫做**计算**机的这种机器就显得更为特别了。它不止能做计算，还能做计算的计算！所以计算机需要有一种能力来记住各种计算，以及知道自己下一步要做什么计算、每一次计算的输入和输出分别是什么。emmmm，这里我懒得想有没有什么更好的表达了，你细品吧。在这种情况下，这种“计算机”就是下图这个样子的：

![computer](https://tva1.sinaimg.cn/large/007S8ZIlgy1gh15pkth66j30in09rjrm.jpg)

这个图太简陋了，把它再物理一些，就得到了：

![img](https://tva1.sinaimg.cn/large/007S8ZIlgy1gh15qwo6ojj30vi0u0q3z.jpg)

（▴图片来自 Wikipedia）

这个叫做**冯·诺伊曼结构**（冯·诺伊曼是数字计算机之父），这是一种将程序指令存储器和数据存储器合并在一起的电脑设计概念结构。本结构隐约指导了将存储设备与中央处理器分开的概念，因此依本结构设计出的计算机又称**存储程序计算机**。

我们现代的计算机就可以用这个结果去理解了。但这些稍微有点深了，在这里没必要（我懒得写）。总之，在这个结构里，我们的计算机在硬件上就由控制器，运算器，存储器，输入设备，输出设备这5个部分组成：

![计算机基本结构图](https://tva1.sinaimg.cn/large/007S8ZIlgy1gh164ypop8j30dp0923yq.jpg)

（▴图片来自百度百科，这张图和上面Wikipedia的冯诺伊曼结构有点不一样，不管了，我懒得自己画）

当然，为了让这个系统协调的工作，并且有让我们去方便地使用，就需要一些“软件系统”。有一些软件专门负责让上面硬件的5个部分协调工作，使其他软件得以运行，这种软件叫*操作系统*；另一些软件把我们人能懂的东西翻译成机器能懂的东西，让机器与做运算，然后又把机器运算的结果翻译成人能看懂的东西输出出来，这种软件叫*应用软件*。

![img](https://tva1.sinaimg.cn/large/007S8ZIlgy1gh16vsd5epj30640923yt.jpg)

（▴图片来自Wikipedia）

把这些对应到现实的、看得见摸得着的东西上就是：

![微型计算机系统](https://tva1.sinaimg.cn/large/007S8ZIlgy1gh1686f4b8j30ee0anjrz.jpg)

（▴图片来自百度百科）

好吧，我写这些知识想说明计算、输入、输出、计算机、软件、操作系统这几个概念，这些玩意儿是接下来的内容事实上的基础。我说的这些和课本上的都不一样，这只是一个自幼接触计算机的人对计算机的理解，你不认同就请不要看接下来的内容。

## 操作系统与Linux

刚才已经解释过什么是操作系统了，这里不重复。它可以分成两个部分，一个部分是管理硬件的，我们把这个就做内核 Kernel。还有一部分是给你用的（操作系统嘛，肯定要提供给你操作）：

![操作系统](https://tva1.sinaimg.cn/large/007S8ZIlgy1gh16mcu2qhj31cw0u0794.jpg)

（▴图片来自 [Wikipedia](https://zh.wikipedia.org/wiki/操作系统)，下面这一段文字来自 [什么是 GNU/Linux](https://www.debian.org/releases/stable/mips/ch01s02.zh-cn.html):）

Linux 是一种计算机操作系统：一系列能让您与计算机进行交互操作并运行其它程序的程序。 

操作系统由多种基础程序构成。它们使计算机可以与用户进行交流并接受指令，读取数据或将其写入硬盘、磁带或打印机，控制内存的使用，以及运行其它软件。操作系统最重要的组成部分是内核。在 GNU/Linux 系统中，Linux 就是内核组件。而该系统的其余部分主要是由 GNU 工程编写和提供的程序组成。因为单独的 Linux 内核并不能成为一个可以正常工作的操作系统，所以我们更倾向使用 “GNU/Linux” 一词来表达人们通常所说的 “Linux”。 

Linux 是以 Unix 操作系统为原型创造的。自从诞生之日起，它就被设计成一种多任务、多用户的系统。这些特点使 Linux 完全不同于其它著名的操作系统。事实上，Linux 比您所能想象到更加特别。与其它操作系统绝然相反的是，没人真正拥有 Linux，其大部分开发工作都是由无偿的志愿者完成的。 

后来演变为 GNU/Linux 系统的开发工作开始于 1984 年。当时，[自由软件基金会](https://www.fsf.org/) 开始研发被称为 GNU 的自由的类 Unix 操作系统。 

[GNU 工程](https://www.gnu.org/) 开发了大量用于 Unix™ 的自由软件工具和类 Unix 操作系统，例如 Linux。这些工具使用户能执行从日常俗事(例如在系统中复制和删除文件)到神秘操作(例如书写和编译程序或对多种文档格式进行熟练的编辑工作)的各种任务。 

虽然有许多组织和个人都对 Linux 的发展作出了帮助，但是自由软件基金会依然是最大的单个贡献者。他不仅仅创造了绝大部分在 Linux 中使用的工具，还为 Linux 的存在提供了理论和社会基础。 

[Linux 内核](https://www.kernel.org/) 的首次面世是在 1991 年。当时，名为 Linus Torvalds 的芬兰计算机科学系学生在 Usenet 新闻组 **`comp.os.minix`** 上发布了一种 Minix 替代内核的早期版本。请看 Linux International 的 [Linux 历史](https://www.cs.cmu.edu/~awb/linux.history.html)。 

在一些子系统维护人员的帮助下，Linus Torvalds 一直协调着数百位开发人员的工作。Linux 内核有一个[官方网站](https://www.kernel.org/)。有关 **`linux-kernel`** 邮件列表更多的信息可以在 [linux-kernel mailing list FAQ](https://lkml.org/) 上找到。 

Linux 用户在挑选软件方面有着极大的自由。例如，Linux 用户可以选择几十种不同的命令行外壳和多种图形桌面。这通常让其它操作系统的用户手足无措，他们甚至从来没想过命令行和桌面其实是可以更换的。 

Linux 很少会崩溃、适合在同一时间运行多个程序，而且比大多数操作系统更为安全。有了这些优势，Linux 成为在服务器市场上增长最快的操作系统。近来，它还开始在家庭和商业用户中变得越来越流行。

---

Linux 有很多的发行版，比如，我自己最常用的是 CentOS 和 Ubuntu。要学习 Linux，你自然必须要亲自安装至少一个 Linux 系统。每种系统的安装步骤、注意事项、坑都不尽相同，甚至同一个系统的不同版本都大相径庭，所以我不考虑在这里教你怎么安装。

但我要推荐你自己动手去安装两个系统，一个偏向于服务器应用的系统（比如 CentOS），一个偏向于桌面应用的系统（比如 Ubuntu）。这些主流的系统在主流的硬件上安装都很方便简单，甚至有时后一路回车就成功了。具体的你要如何做，有太多资料了，你可以看各个系统的安装帮助，比如 [Debian GNU/Linux 安装手册](https://www.debian.org/releases/stable/mips/index.zh-cn.html)，也可以直接百度谷歌（这里当作偏义词吧，我推荐且仅推荐后者）“xx系统安装”，你会找到你需要的一切。

## GUI与Shell

你应该知道，计算机的操作，可以分成*命令行*（CLI）和*图形界面*（GUI）两个流派，二者都有那种至死不渝的坚定支持者，他们可以随口列出一大堆己方的优点和对方的缺点。但我不是这种坚定不移的人，视问题而选择合适的，该用 GUI 的时候就该用 GUI，该命令行的时候就命令行，这样才能最高效的达到自己的目的嘛。

对于现在的 Windows，你几乎只有一种使用方式——图形操作界面GUI。Windows 在很多年前就把 GUI 融入到系统内部了，使 GUI 和 Windows 系统不可分割。习惯了这个，可能导致你从 Windows 切换到 Linux 的时候一度只知道去使用 GUI。殊不知，命令行在一些时候甚至比 GUI 更高效、实用。

如果你是资深老 Windows 用户，你应该知道在我们的 Windows 95/98 或者其他更老的版本的 Windows 你是可以关闭 GUI，用命令行的 MS-DOS 来操作电脑的。两种操作方式都可以独立完成几乎所有操作，GUI 还是 CLI 就是你自己的选择问题了。如今的大多数桌面形 Linux 还是保留了这种 GUI + CLI 的模式，你可以随意选用。

GUI 很简单，你会用 Windows/macOS/Android/iOS 的话，打开 Linux 的 GUI 桌面也就自然会用了，无需学习。退一步讲，如果你之前没用过任何这些系统，我推荐你去学一学，2020年了智能手机至少是要会用的，或者直接学习 Linux CLI，GUI 桌面这种东西自己瞎玩玩，自然就会了。关于 GUI 桌面，Linux 是比 Windows/macOS 自由地多的，Linux 的 GUI 桌面只是一个运行在内核上的应用程序而已，有很多种选择，比如 KDE、GNOME 等，你可以在一个系统中安装多个桌面环境，然后选择自己最喜欢的去使用：

![Screenshot of the Plasma Desktop with Dolphin and the launcher open](https://tva1.sinaimg.cn/large/007S8ZIlgy1gh1wm81xrej31hc0u00uv.jpg)

（▴KDE Plasma 桌面，图片来自 [KDE 官网](https://kde.org)）

![Featured image showing GNOME shell](https://tva1.sinaimg.cn/large/007S8ZIlgy1gh1wpp985ej31h70smx5r.jpg)

(▴GNOME 桌面，图片来自 [GNOME 官网](https://www.gnome.org))

> 比起 KDE，我更爱用的是 GNOME，因为我平时用 Mac，GNOME 用起来感觉和 macOS 有比较高的一致性。

我更想教你的是使用 CLI。首先你应该学会如何切换到一个纯命令行模式，比如在你启动后的 GUI 桌面中按 `Ctr+Alt+F2` 之类的。切换完成后，你就会进入纯命令行操作界面，我们把这种命令行操作界面叫做 shell。和 GUI 桌面一样，Shell 只是运行在内核基础上的一个程序而已，有多种选择，比如很多 Linux 系统默认的 Bash，还有 Csh，以及深受一些开发者喜爱的 Zsh 等等。下面我会介绍如何使用最常见的 Bash。

## Bash 基础

当我们在一个工厂里工作，在某一确定时刻你就会在且仅在一个房间中，以某种权限做某件事。命令行其实也就是这样：某个用户在某个路径(目录)，以某种权限，执行某个命令。

在进入一个纯命令行后，传统地，你会看到黑底白字的纯文字节目。在按照屏幕上的提示登录后，你会看到类似这样的东西：

```
[you@host ~]$ 
```

这个好像叫命令提示符吧，这个东西是用来提示你是谁、你在那里的：`[你的用户名@主机名 工作路径]权限`，需要具体解释一下的是工作路径和权限。

工作路径就是你当前所在的位置。权限这里一般只有两种情况 `$` 和 `#`：

- `$` 是你将以普通用户的权限执行命令意思；
- `#` 是你将以 root 权限执行命令的意思。所以当提示符为 `#` 时，请务必在操作前三思，搞清楚你在做什么，然后认真输入每一条命令，并在按下回车之前反复检查。关于 root 的特别之处我们之后会详细讨论。

在 `$` 或 `#` 之后，你可以输入文字，称为命令。命令是一段依照特定规则写的文字，Shell 会解析你输入的这段文字，并调用相应的程序去执行你期望的工作。例如，现在你希望知道当前的时间，你就可以输入如下命令：

```sh
$ date
```

（不用输 `$` 哦，那是命令提示符的一部分，我们在很多文章中都会看到这样的命令写法，在你真正要写的命令前面加上 `$` 或 `#`，这只是提醒你该以什么样的权限身份去执行命令罢了）

输入 `date` 四个字母，按下回车，你会看到屏幕上输出了你期望的时间信息：

```
2020年 7月30日 星期四 16时56分45秒 CST
```

在这里可以用文章开头对计算的说法，去解释命令的工作方式。这里就是为什么在文章开头花大力气写了一大堆关于计算与计算机的东西了。

你希望计算机进行一些运算（比如得到现在的时间），所以告诉计算机你要执行的计算是什么（比如你要获取现在时间的这个计算叫做date），然后给定这个计算的输入（例如获取现在时间不需要输入，所以可以跳过输入），计算机就会在其内部寻找你指定的计算，如果找到了它就把输入给这个计算，让计算开始执行，结束后把计算的输出显示出来。




## 用户与Root

> 注意，下文的举例中会大量出现包含 `rm -rf /` 的命令，请务必不要执行这些命令，除非你知道这是什么，并且确实希望这么做。

Linux 是多用户的系统，一个系统可以给不同权限的不同人去使用。你可以建立很多的用户，比如给家里的每个人建立一个用户，这样全家人就可以互不干扰得使用这个系统了。每个用户自然有不一样的用户名，一般来说，你可以随便取用户名。

不过 Linux 中有一个特殊的用户存在。在安装大多数 Linux 系统时，你都会被要求设置一个 root 用户。那么何为 root 用户？

Root 中文是**根**的意思，所以 root 用户就是**根用户**。。。这种说法没有任何帮助。

我们知道~~植物~~一棵树没有根是不行的，root 用户在 Linux 系统中也是这种不可或缺的地位。之所以叫它根用户，是因为它是我们 Linux 系统被安装后可以用的第一个用户，也是因为它拥有最高的权限——操作 Linux 系统的一切的权限。前些年风靡一时的把 Android 系统 Root 掉，其实就是想办法取得 root 用户的权限（Android 使用 Linux 内核，也可以看作一种 Linux 系统）。

再重申一遍，root 用户拥有操作 Linux 系统的一切的权限——Linux 中的最高权限。无论你建立多少用户，使用何种手段去操作，你的系统中任意用户的权限只能小于或等于 root 用户的。

Root 用户的权限可以大到一种让你忍俊不禁的程度，比如 root 用户可以执行一条 `rm -rf /` 命令，这个命令会删除掉整个系统本身😂（作为比较，在一个 Windows 系统正常运行的情况下，你是不能删除它本身的）。

![MySQ从删库到跑路_的表情包](https://tva1.sinaimg.cn/large/007S8ZIlgy1gh19azx3r7g30bt0c74qp.gif)

（▴图片来源于网络，侵删）

高权限如果被有意/无意地错用，都是有毁灭性的！比如，如果全世界每个人都拥有发射其国核弹的权限，那你可以想象，总会在某个随机的时间，某个随机的人会误触某个随机的开关，把某颗随机的核弹发射到某个随机的位置（可能就是您的家乡）；更糟的是，还有很多人发自内心的就是想发射这些核弹到某个确定的位置的。

不把这种有毁灭性的权限特殊保护起来是不行的！所以 Linux 会把 root 比较特殊地保护起来，但这种保护也需要你的帮助。在平时日常的使用中，比如看个新闻、聊个天、写段程序、建个模，你通常是不需要 root 那个高度的权限的。这种情况下，你就不应该使用 root 用户。安装好 Linux 系统后，请新建一个普通用户，比如你叫“张三”，你可以建立一个叫 “JohnDoe” 的普通用户来日常使用。

~~事实上，我经常忘记自己的 root 用户密码，因为几乎从来用不到~~。

可是如果你是一名开发者，你经常需要做一些危险的事。比如，替换 Linux 系统内核版本、安装/卸载一个系统组件、设置某些防火墙策略......这些可能危害系统的事情，正常情况下只有 root 用户才有权决定，所以这个时候你就会需要用到 root 用户了。

不过很多时候这种需要最高权限的操作都只是在一系列普通操作中混有的偶尔一条而已，我们不希望为此退出手头的工作、退出普通用户登录、重新用 root 用户登录、执行一个操作、然后退出 root 用户、用普通用户登录继续之前的工作。这个过程太过繁琐，所以 Linux 为我们提供了一个 `sudo` ，这个东西是 Substitute User DO 的意思，但在大多数情况下，你可以把它理解成 super user do 的意思。用 sudo 就可以临时**借用** root 的权限，例如，`sudo rm -rf /`（⚠️注意，我只是开个玩笑，千万不要在实体机器上尝试这个命令，这个命令甚至可能永久损坏硬件哦😏）。

**在你使用 root 权限时，请务必在操作前三思，搞清楚你在做什么，然后认真输入每一条命令，并在按下回车之前反复检查。**这个怎么强调都不为过，在 root 权限下，一个小小的输入错误就可能会带来毁灭性的后果，例如你想要删除一个目录时，出于某种原因需要使用 root 权限，你希望用的命令是 `sudo rm -rf something/` 但是，你不小心多打了一个空格：`sudo rm -rf something /`，很不幸，你就会把整个系统删除掉。

## 文件与目录

关于 Linux 有一种说法叫做“一切皆文件”。在 Linux 中所有东西都可以看作是文件。你下载的网络小说是文件，你编写的程序是文件，运行中的进程是文件，甚至你的硬件——键盘、屏幕在 Linux 眼中都是文件！

你可以从文件中读取东西（输入Input），也可以往里面写入数据（输出Output）。如果你是在处理一个文本文件，那这里的读写很容易理解。但说了，你的键盘、屏幕也是文件，这些就有点特别了：我们一般看到的屏幕被叫做 stdout，往这个文件写入的内容就会显示到屏幕上；我们的键盘被叫做 stdin，从这个文件里面读内容，电脑就知道我们按了什么键，输入了什么内容了。

> 注：这里把 stdin 说成是键盘，stdout 说成是屏幕是错误的。但我想初学的时候这么去考虑是没有问题的，这种说法也比较生动，可以帮助你理解一切皆文件的思想。要真正解释 stdin、stdout 以及它们和键盘、屏幕的关系就比较复杂了，需要你先对 Linux、C/C++ 有更深入的了解才行。

📁**目录**是一种特殊的文件，这种东西的作用类似于 Windwos 中的“文件夹”。



P.S. 之前提到的“硬件”文件可以在 `/dev` 这个路径下看到很多。

---

🧪实验：尝试使用 `ls /dev` 查看“硬件”，并尝试添加各种 `-l`、`-h` 等参数。

---



