---
title: å•é“¾è¡¨å®è·µâ€”â€”åŸå¸‚åˆ—è¡¨
tags: School
---

# å•é“¾è¡¨å®è·µâ€”â€”åŸå¸‚åˆ—è¡¨

ï¼ˆå¤šå›¾è­¦å‘Šï¼æˆ‘æ”¾äº†ä¸€å¤§å †ç±»å›¾ã€æˆªå›¾ï¼‰

ï¼ˆå¤šåºŸè¯è­¦å‘Šï¼æˆ‘ä¸å°å¿ƒåœ¨å¿ƒæƒ…ä¸å¥½çš„æ—¶å€™å†™äº†ä¸€å¤§å †åºŸè¯è¿›æ¥ï¼‰

ï¼ˆå¤šä»£ç è­¦å‘Šï¼æˆ‘æ‡’å¾—æ‹£å…³é”®çš„ä»£ç äº†ï¼Œæˆ‘æŠŠæ•´ä¸ªå·¥ç¨‹é‡Œå’Œé¢˜ç›®ç›¸å…³çš„ä»£ç å…¨æ‰”è¿›æ¥äº†ï¼Œç¼–è¾‘çš„æ—¶å€™ Typora éƒ½æœ‰ç‚¹å¡äº†ï¼‰

## é¢˜ç›®

![UNADJUSTEDNONRAW_thumb_28c8](https://tva1.sinaimg.cn/large/00831rSTgy1gciubwcduej30la0g1jta.jpg)

![UNADJUSTEDNONRAW_thumb_28c9](https://tva1.sinaimg.cn/large/00831rSTgy1gciubzcavxj30lc0fymyl.jpg)

## ï¼ˆè’Ÿè’»çš„æŠ±æ€¨ï¼‰

â€œè¿™å¯å¤ªéš¾äº†å‘€ï¼â€

ç”µè„‘å‰çš„è’Ÿè’»çŒ›åœ°åç›´äº†èº«å­ï¼Œé‚£åŒé¢¤å·å·çš„æ‰‹åƒæ˜¯æ¥è‡ªç½¹æ‚£å¸•é‡‘æ£®çš„è€äººï¼Œå‡ ç»å°è¯•ï¼Œæ‰ä¸€åªæŠ“èµ·äº†ä¹±æ‰”çš„æŠ¹å¸ƒï¼Œç‹ ç‹ åœ°æ“¦æ‹­ç€å¹¶ä¸è„çš„å±å¹•ï¼›å¦ä¸€åªæ‰èµ·äº†è‡ªå·±çš„çœ¼ç›â€”â€”è’Ÿè’»ç›¸ä¿¡ï¼Œè¿™ä¸æ˜¯å¹»è§‰å°±æ˜¯å±å¹•å‡ºäº†é—®é¢˜ã€‚

çª—ä½“åº”ç”¨å‘ï¼åˆæ˜¯çª—ä½“åº”ç”¨ï¼è’Ÿè’»è¿˜è®°å¾—å‡ ä¸ªæœˆå‰è‡ªå·±ä¸ºäº†å®Œæˆè¦æ±‚ç”¨ C# å†™çš„çª—ä½“å°é—¹é’Ÿï¼Œå…³æ‰äº† IDEAã€é€€å‡ºäº† Xcodeï¼Œç¿»è¶Šäº†ä¿æŠ¤ç€ä»–ç”Ÿå‘½è´¢äº§å®‰å…¨çš„é«˜å¢™ï¼Œä¸‹è½½äº† dotnet coreï¼Œå®‰è£…äº† Visual Studio for Macï¼Œå¼€å§‹åœ¨ Xamarin çš„ä¸–ç•Œé‡Œå››å¤„ç¢°å£ï¼Œç¢°å¾—é¼»é’è„¸è‚¿ã€ç¢°å¾—å¤´ç ´è¡€æµã€‚æœ€åè™½ç„¶å¦‚æœŸæŠŠä¸œè¥¿åšäº†å‡ºæ¥ï¼Œå´è½å¾—ä¸ª128GBçš„ MacBook ç¡¬ç›˜çˆ†æ»¡çš„ä¸‹åœºã€‚

å¦‚ä»Šä¼¤ç—›æœªæ„ˆã€ç£ç›˜æœªæ¸…ï¼Œåˆæƒ¨é­çª—ä½“ä½œä¸šå½“å¤´ä¸€æ£’ï¼è’Ÿè’»é™¤äº†æ€€ç–‘è‡ªå·±çš„çœ¼ç›æˆ–å±å¹•è¿˜æœ‰å…¶ä»–é€‰æ‹©å˜›ï¼Ÿ

â€œæˆ‘***ä¸å†™ C# äº†ï¼Swing è¿‡æ°”äº†ä¹ˆï¼ŸPyTk ä¸èƒ½ç”¨ä¹ˆï¼ŸWeb å¼€å‘ä¸é¦™ä¹ˆï¼Ÿâ€ï¼Œè’Ÿè’»æ— å£°åœ°åœ¨å†…å¿ƒå’†å“®ç€ï¼Œâ€œiOS è™½ç„¶è¿˜ä¸ç†Ÿï¼Œä½†å°è¯•å†™ä¹Ÿæ²¡é—®é¢˜ï¼å†ä¸æµï¼Œæˆ‘è¿˜ä¼š Android å¼€å‘......â€

......ï¼ˆğŸ‘†ä¸€ä¸ªè®©äººæ„å¤–çš„å¼ºè¡Œè½¬æŠ˜ğŸ‘‡ï¼‰......

ä¸‰æœˆçš„æ˜†æ˜ä¾ç„¶è¿·äººã€‚æ˜¨å¤©ä¸‹äº†é›¨ï¼Œä»Šå¤©åˆæ˜¯è‰³é˜³é«˜ç…§ï¼Œçª—å¤–é•¿äº†7å±‚æ¥¼é«˜çš„è¡Œé“æ ‘éšé£æ¬¢èˆâ€”â€”æ˜¥é£æ—¶è€Œå’Œç…¦ã€å¿½åˆæš´èºï¼Œè°çŸ¥é“æ˜¯å“ªæ¥çš„åŠ›æ°”ï¼Œå®ƒä¼¼ä¹ä»ä¸ç–²æƒ«ï¼Œå®ƒä¸æ–­åœ°æŠŠæœªæ•£å°½æ³¥åœŸèŠ³é¦™çš„ç”˜ç”œç©ºæ°”é€è¿›è’Ÿè’»å¡æ»¡äº†çº¸å¼ ã€ä¹¦ç±å’Œç”µå­äº§å“çš„æˆ¿é—´ã€‚è°ƒçš®çš„~~é£å…ƒç´ ~~é£å„¿èµ°æ—¶è¿˜ä¸å¿˜åœ¨è’Ÿè’»çš„æ¸…èŒ¶ä¸Šæ¼¾èµ·ä¸€ä¸ªå¾®ç¬‘ã€‚

â€œå‘¼â€”â€”â€ï¼Œä¸€æ—¶è¢«è¿™æ™¯è±¡å¸å–äº†é­‚é­„çš„è’Ÿè’»è¿™æ‰ç¼“ç¼“å›ç¥ï¼Œçœ‹ç€ä¸çŸ¥ä¸è§‰åœ¨ Typora é‡Œæ•²ä¸‹çš„è¿™å †æ–‡å­—ï¼Œä¸€æ—¶å¿ƒé‡Œä¸æ˜¯æ»‹å‘³ã€‚

æ˜¯å•Šï¼Œæœ€è¿‘è’Ÿè’»æœ‰äº›è¿·èŒ«ï¼Œä¸çŸ¥é“è¯¥ç”¨ä»€ä¹ˆè¯­è¨€ã€ä»€ä¹ˆæ¡†æ¶å†™ä½œä¸šæˆ–æ˜¯è‡ªå·±çš„é¡¹ç›®äº†ã€‚è’Ÿè’»å­¦çš„å¤ªæ‚äº†ï¼Œæ¯æ¬¡å¼€å‘éƒ½å¿…é¡»ä»é‚£ä¹ˆå¤šç§æŠ€æœ¯ä¸­æŒ‘ä¸€ä¸ªå‡ºæ¥ç”¨ï¼Œè¿™æ—¶çš„è’Ÿè’»æ€»æ˜¯ä¸å ªæ‰¿å—æŠ›å¼ƒå…¶ä»–è¯­è¨€çš„ç—›è‹¦ã€‚

â€œä½†æ˜¯æ²¡åŠæ³•ï¼Œè°è®©æˆ‘ä¹æ„å‘¢......â€

è’Ÿè’»æ²¡æœ‰åŠæ³•ï¼Œåªå¥½è®©ä¸Šå¤©æ¥å†³å®šè¿™ä¸€åˆ‡äº†ã€‚è’Ÿè’»é—­ä¸Šäº†çœ¼ç›ï¼Œä»¿ä½›è¿™æ ·èƒ½å‡è½»å†…å¿ƒçš„ç—›è‹¦ã€‚æ‘¸èµ·æ¡Œä¸Šçš„ D12ï¼Œè’Ÿè’»çš„æ‰‹é¢¤æŠ–åœ°æ›´å‰å®³äº†ï¼Œç°åœ¨æ˜¯çº¿æ€§é©¬è¾¾è€Œä¸æ˜¯å¸•é‡‘æ£®äº†â€”â€”æ·éª°å­çš„ç»“æœç€å®è®©è’Ÿè’»åƒäº†ä¸€æƒŠâ€”â€”

æ˜¯ Xamarinï¼

ä¸è¿‡ Xamarin å°± Xamarin å§ï¼Œä¸Šå¤©æ€»æ˜¯å¯¹è’Ÿè’»åšäº›å¥‡å¥‡æ€ªæ€ªçš„äº‹æƒ…ï¼Œè’Ÿè’»å·²ç»ä¸ç›¸ä¿¡ä¸Šå¸æˆ–ä»»ä½•ç¥çµäº†ã€‚

åŒçœ¼çš„ç„¦è·åœ¨æ…¢æ…¢æ¢å¤ï¼Œæ‰‹æŒ‡çš„é¢¤åŠ¨åƒæ˜¯æ–­äº†ç”µèˆ¬éª¤ç„¶æ­¢ä½ï¼Œåœ¨è§¦æ§æ¿ä¸Šä¸€åˆ’ä¸€ç‚¹ï¼Œåˆ†æ¯«ä¸å·®ï¼ŒVisual Studio for Mac åœ¨è’Ÿè’»çœ¼å‰æµ®ç°ã€‚

----

ï¼ˆè¿™ä¸¤å¤©å¿ƒé‡Œé¢‡ä¸å®é™......ä¸€ä¸å°å¿ƒå°±å†™äº†è¿™ä¹ˆå¤šæœ‰çš„æ²¡çš„ï¼Œæµªè´¹äº†è‡ªå·±çš„æ—¶é—´ï¼Œæ²¡æœ‰ä»»ä½•æ„ä¹‰......ï¼‰

ï¼ˆç”Ÿæ´»ã€æ¢¦å¢ƒã€å­¦ä¹ ä¸­çš„äº‹éƒ½è®©äººå¤´ç–¼ï¼Œè¿˜æ˜¯å†™ä»£ç è®©äººæ„‰å¿«å•Šï¼æ‰€ä»¥å†™ä»£ç å»äº†ï¼Œä¸€ä¼šå„¿å†æ¥ç€å†™è¿™ç¯‡æ–‡ç« ã€‚ï¼‰

## æˆæœå±•ç¤º

Okï¼Œä»£ç æˆ‘å†™å¥½äº†ï¼Œå›æ¥æ¥ç€æ°´åšå®¢ã€‚ç°åœ¨è·ç¦»å†™ä¸Šé¢é‚£ä¸€æ®µä¸œè¥¿è¿‡å»äº†ä¸¤å¤©ã€‚ä¸­é—´é‡åˆ°äº†ä¸€äº›é—®é¢˜ä¸¥é‡æ‹–å»¶äº†è¿›åº¦ï¼Œæœ€åè¿˜æ˜¯æˆ–ä¼˜é›…æˆ–ç¬¨æ‹™åœ°è§£å†³äº†ï¼Œä¸€ä¼šå„¿æˆ‘ä»¬ä¼šæåˆ°ã€‚

è¯ä¸å¤šè¯´ï¼Œå…ˆçœ‹æˆæœï¼

![IMG_467](https://tva1.sinaimg.cn/large/00831rSTgy1gcmbm5cgscj32b50u0hac.jpg)

ï¼ˆæ˜¯çš„ï¼Œè¿™ä¸ªåŸå¸‚é“¾è¡¨åªæ˜¯è¿™ä¸ª App é‡Œçš„ä¸€ä¸ªåŠŸèƒ½ï¼æˆ‘æƒ³æŠŠè¿™ä¸ª App å†™æˆä¸€ä¸ªæ¯”è¾ƒå…¨çš„æ•°æ®ç»“æ„ä¸ç®—æ³•æ¼”ç¤ºã€‚ï¼‰

å†çœ‹çœ‹ Android ä¸­çš„æ•ˆæœï¼ˆæˆ‘è®¾è®¡ UI çš„æ—¶å€™æ˜¯æŒ‰å…¨é¢å±æ¥çš„ï¼Œæˆ‘çš„è€ Android æ‰‹æœºå±å¹•å°ï¼Œæ•ˆæœä¸å¤ªå¥½ï¼‰ï¼š

![IMG_455](https://tva1.sinaimg.cn/large/00831rSTgy1gclnjf1t53j32ce0u0n5o.jpg)

è¿™å°±æ˜¯æ¯”èµ· Flutterï¼Œæˆ‘æœ‰æ—¶æ›´å–œæ¬¢ Xamarin çš„åœ°æ–¹ï¼Œæˆ‘å‡ ä¹å®Œå…¨æ²¡æœ‰è‡ªå®šä¹‰å¸ƒå±€ï¼Œå¾—åˆ°çš„ App åœ¨ iOS ä¸Šå°±æ˜¯éµå®ˆ Human Interface Guidelines çš„åŸç”Ÿ iOS çš„æ„Ÿè§‰ï¼Œåœ¨ Android ä¸Šå°±æ˜¯ç¬¦åˆ Material Design çš„è°·æ­ŒåŸç”Ÿçš„æ„Ÿè§‰ï¼æˆ‘ç”¨ Mac ä¸èƒ½ç”Ÿæˆ UWPï¼Œä¸ç„¶è¿™å¥—ä»£ç è¿˜å¯ä»¥ç”Ÿæˆä¸€ä¸ªåœ¨ Windows 10 ä¸Šå®ç° Fluent Design çš„å¾®è½¯åŸç”Ÿçš„ç‰ˆæœ¬ï¼

è€Œä¸”åœ¨è¿™é‡Œæˆ‘è¿˜æœ‰æ„å¤–çš„å‘ç°ï¼Œåœ¨ iOS 13 ä¸Šï¼ŒXamarin ç”Ÿæˆçš„ App è‡ªåŠ¨æ”¯æŒ Dark Modeï¼åªè¦æ˜¯æ²¡æŒ‡å®šé¢œè‰²çš„æ§ä»¶ï¼Œéƒ½ä¼šè‡ªåŠ¨æŒ‰ç…§ Apple çš„è®¾è®¡å‡†åˆ™æ”¯æŒæš—è‰²æ¨¡å¼ã€‚ä½†ç”±äºæˆ‘ä¸€å¼€å§‹å†™äº†å‡ ä¸ª `Background="#FAFAFA"` ä¹‹ç±»çš„ç»†èŠ‚é¢œè‰²æŒ‡å®šï¼Œå°±ä¼šåœ¨æš—è‰²ä¸­å¤¹æ‚ä¸€å—çº¯ç™½ï¼Œå¾ˆä¸‘ï¼Œæˆ‘ä¹‹åå†æƒ³åŠæ³•è§£å†³ã€‚

æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬è®¨è®ºå¦‚ä½•å®ç°è¿™æ ·çš„ä¸€ä¸ª Demo Appï¼ˆæˆ‘ä»¬åªç€é‡è®¨è®ºé¢˜ç›®éƒ¨åˆ†çš„ä¸œè¥¿ï¼Œä¹Ÿå°±æ˜¯â€œåŸå¸‚é“¾è¡¨â€ç‚¹è¿›å»çš„å…·ä½“ Demo éƒ¨åˆ†ï¼‰ã€‚

## åŸå¸‚åˆ—è¡¨è®¾è®¡å®ç°

å› ä¸ºæˆ‘ä»¬çš„ç›®æ ‡å¾ˆæ˜ç¡®ï¼Œå°±æ˜¯ä¸€ä¸ªé“¾è¡¨æ”¾åŸå¸‚ï¼Œå®ç°å¢åˆ æ”¹æŸ¥ã€‚æ¶‰åŠåˆ°çš„åŠŸèƒ½ä¹Ÿä¸å¤šï¼Œæ‰€ä»¥è®¾è®¡è¿™ä¸ªä¸œè¥¿ä¸éš¾ã€‚æˆ‘ä»¬å…ˆä»æ•°æ®ç»“æ„è®²èµ·ã€‚

æ•°æ®ç»“æ„è¿™ä¸€å—å¤§ä½“ä¸Šå°±æ˜¯æŒ‰ç…§ä¸Šè¯¾è®²çš„å†™ã€‚ä¸è¿‡æŒ‰ç…§è‡ªå·±çš„å‘½åä¹ æƒ¯ï¼Œæˆ‘ä¿®æ”¹äº†ä¸€äº›å‘½åï¼Œè¿˜æœ‰å†…éƒ¨çš„å®ç°ä¹Ÿæ˜¯æŒ‰ç…§æˆ‘è‡ªå·±çš„å–œå¥½å†™çš„ï¼Œå’Œè€å¸ˆçš„ç¨å¾®æœ‰ç‚¹åŒºåˆ«ã€‚

### çº¿æ€§è¡¨

åœ¨è¿™ä¸ª Demo é‡Œï¼Œæˆ‘ä»¬ç”¨åˆ°äº†é¡ºåºè¡¨ `SeqList`ã€å•é“¾è¡¨ `SLinkList`ã€‚è¿™ä¸¤ä¸ªä¸œè¥¿éƒ½å®ç°äº†çº¿æ€§è¡¨æ¥å£ `ILinearList`ï¼Œæä¾› `Insert`ï¼Œ`Remove`ï¼Œ`IsEmpty`ï¼Œ`Clear`ï¼Œ`Search` å’Œå–ä¸‹æ ‡ç­‰æ“ä½œï¼Œå…·ä½“çš„ç±»å›¾å¦‚ä¸‹ï¼ˆç”¨è½¯ä»¶ç”Ÿæˆçš„å¥½åƒæœ‰ç‚¹é”™ï¼Œä¸ç®¡äº†ï¼Œä»¥å®é™…ä»£ç ä¸ºå‡†ï¼‰ï¼š

![LinearList](https://tva1.sinaimg.cn/large/00831rSTgy1gcmn3fojbaj311u0qw79h.jpg)

**ä»£ç å®ç°**ï¼ˆç”±äºæ–‡ç« ç©ºé—´æœ‰é™ï¼Œä»£ç æˆ‘åšè¿‡ä¸€äº›è°ƒæ•´ï¼‰ï¼š

çº¿æ€§è¡¨æ¥å£ï¼š

```csharp
// DataStructureAlgorithm/LinearList/ILinearList.cs

using System;
namespace DataStructureAlgorithm.LinearList
{
    public interface ILinearList<T> where T : IComparable<T>
    {
        int Length { get; }
        T this[int index] { get; set; }
        void Insert(int index, T data);
        int Search(T data);
        void RemoveAt(int index);
        bool IsEmpty();
        void Clear();
    }
}
```

é¡ºåºè¡¨ï¼š

```csharp
// DataStructureAlgorithm/LinearList/SeqList.cs

using System;
namespace DataStructureAlgorithm.LinearList
{
    public class SeqList<T> : ILinearList<T> where T : IComparable<T>
    {
        private readonly T[] dataSet;

        public int Length { get; private set; }

        public int MaxLength { get; }

        public SeqList(int maxLength)
        {
            if (maxLength < 0)
            {
                throw new ArgumentOutOfRangeException("max Length should >= 0.");
            }
            MaxLength = maxLength;
            dataSet = new T[MaxLength];
            Length = 0;
        }

        public T this[int index]
        {
            get
            {
                if (index < 0 || index > Length - 1)
                {
                    throw new IndexOutOfRangeException();
                }
                return dataSet[index];

            }
            set
            {
                if (index < 0 || index > Length - 1)
                {
                    throw new IndexOutOfRangeException();
                }
                dataSet[index] = value;
            }
        }

        public void Clear()
        {
            Length = 0;
        }

        public void Insert(int index, T data)
        {
            if (index < 0 || index > Length)
            {
                throw new IndexOutOfRangeException();
            }
            if (Length == MaxLength)
            {
                throw new Exception("Failed to Insert: SeqList is already full (Length == MaxLength)");
            }
            for (var i = Length; i > index; i--)
            {
                dataSet[i] = dataSet[i - 1];
            }
            dataSet[index] = data;
            Length++;
        }

        public bool IsEmpty()
        {
            return (Length == 0);
        }

        public void RemoveAt(int index)
        {
            if (index < 0 || index > Length - 1)
            {
                throw new IndexOutOfRangeException();
            }
            for (var i = index; i < Length - 1; i++)
            {
                dataSet[i] = dataSet[i + 1];
            }
            Length--;
        }

        public int Search(T data)
        {
            for (var i = 0; i < Length; i++)
            {
                if (data.CompareTo(dataSet[i]) == 0)
                {
                    return i;
                }
            }
            return -1;
        }
    }
}
```

å•é“¾è¡¨ï¼š

```csharp
// DataStructureAlgorithm/LinearList/SLinkList.cs + SNode.cs

using System;
using System.ComponentModel;

namespace DataStructureAlgorithm.LinearList
{
    public class SNode<T> where T : IComparable<T>
    {

        public T Data { get; set; }
        public SNode<T> Next { get; set; }

        public SNode(T data, SNode<T> next)
        {
            Data = data;
            Next = (next != null ? next : null);
        }

        public SNode(T data) : this(data, null) { }
    }
    
    public class SLinkList<T> : ILinearList<T>, INotifyPropertyChanged where T : IComparable<T>
    {
        public int Length { get; private set; }

        protected string LengthStr = "Length";

        public SNode<T> HeadNode { get; private set; }

        protected string HeadNodeStr = "HeadNode";

        public SLinkList()
        {
            Length = 0;
            HeadNode = null;
        }

        public event PropertyChangedEventHandler PropertyChanged;

        protected SNode<T> NodeAt(int index)
        {
            if (index < 0 || index > Length - 1)
            {
                throw new IndexOutOfRangeException();
            }

            SNode<T> node = HeadNode;
            for (var i = 0; i < index; i++)
            {
                node = node.Next;
            }
            return node;

        }

        public T this[int index]
        {
            get
            {
                return NodeAt(index).Data;
            }
            set
            {
                NodeAt(index).Data = value;
                OnPropertyChanged(IndexerName);
            }
        }

        protected string IndexerName = "this[]";

        public void Clear()
        {
            HeadNode = null;
            Length = 0;
        }

        public void Insert(int index, T data)
        {
            if (index < 0 || index > Length)
            {
                throw new IndexOutOfRangeException();
            }

            SNode<T> current = new SNode<T>(data);

            if (index == 0)
            {
                current.Next = HeadNode;
                HeadNode = current;
            }
            else
            {
                SNode<T> prev = NodeAt(index - 1);
                current.Next = prev.Next;
                prev.Next = current;
            }

            Length++;
            OnPropertyChanged(LengthStr);
            OnPropertyChanged(IndexerName);

        }

        public void InsertAtHead(T data)
        {
            Insert(0, data);
        }

        public void InsertAtRear(T data)
        {
            Insert(Length, data);
        }

        public bool IsEmpty()
        {
            return (Length == 0);
        }

        public void RemoveAt(int index)
        {
            if (index < 0 || index > Length - 1)
            {
                throw new IndexOutOfRangeException();
            }

            if (index == 0)
            {
                HeadNode = HeadNode.Next;
            }
            else
            {
                SNode<T> prev = NodeAt(index - 1);
                prev.Next = prev.Next.Next;
            }

            Length--;

            OnPropertyChanged(LengthStr);
            OnPropertyChanged(IndexerName);
        }

        public int Search(T data)
        {
            int index = 0;
            for (var current = HeadNode; current != null; current = current.Next)
            {
                if (data.CompareTo(current.Data) == 0)
                {
                    return index;
                }
                index++;
            }
            return -1;
        }

        event PropertyChangedEventHandler INotifyPropertyChanged.PropertyChanged
        {
            add
            {
                PropertyChanged += value;
            }
            remove
            {
                PropertyChanged -= value;
            }
        }

        private void OnPropertyChanged(string propertyName)
        {
            OnPropertyChanged(new PropertyChangedEventArgs(propertyName));
        }

        protected virtual void OnPropertyChanged(PropertyChangedEventArgs e)
        {
            if (PropertyChanged != null)
            {
                PropertyChanged(this, e);
            }
        }
    }
}
```

(é‡Œé¢æœ‰äº›çœ‹ä¸æ‡‚çš„ä»£ç å¯¹å§ï¼Œæ¯”å¦‚ `INotifyPropertyChanged` ä»€ä¹ˆçš„ï¼Œè¿™äº›å…ˆä¸ç®¡ï¼Œä¹‹åå†è®¨è®ºã€‚)

å†™å®Œè¿™äº›ä¸œè¥¿ï¼Œéšæ‰‹åšä¸ªå•å…ƒæµ‹è¯•ï¼Œç„¶åå°±å¯ä»¥å¼€å§‹è€ƒè™‘æ€ä¹ˆç”¨å®ƒä»¬äº†ã€‚

### åŸå¸‚ã€åæ ‡

æˆ‘ä»¬çš„ç›®æ ‡æ˜¯å†™åŸå¸‚åˆ—è¡¨ï¼Œé‚£å½“ç„¶ä¸€ä¸ª `City` ç±»æ˜¯å¿…ä¸å¯å°‘çš„ï¼Œè¿™åªæ˜¯ä¸€ä¸ªç®€å•çš„ data ç±»ï¼Œä½†æ˜¯å› ä¸ºé¢˜ç›®æœ‰ä¸ªç”¨è·ç¦»å»æœç´¢çš„è¦æ±‚ï¼Œæˆ‘è§‰å¾—è®© `City` ç±»æˆ–æ˜¯ä½¿ç”¨ `City` ç±»çš„å…¶ä»–ä¸œè¥¿å»å®ç°ä¸¤ç‚¹ä¹‹é—´è·ç¦»çš„è®¡ç®—ä¸å¤Ÿä¼˜é›…ï¼Œæ‰€ä»¥å†æŠ½è±¡å‡ºä¸€ä¸ª `Point2D` ç±»æ¥æè¿°ä¸€ä¸ªå¹³é¢ç‚¹ï¼ŒåŒæ—¶æä¾›ç‚¹é—´è·ç¦»çš„è®¡ç®—æ–¹æ³•ã€‚

![CityAndPoint2D](https://tva1.sinaimg.cn/large/00831rSTgy1gcmn2v20aej30ew0kmwgd.jpg)

**ä»£ç å®ç°**ï¼š

City:

```csharp
// DataStructureAlgorithm/LinearList/City.cs

using System;
namespace DataStructDemo
{
    public class City : IComparable<City>
    {
        public string Name { get; set; }
        public Point2D Location { get; set; }

        public string LocationStr
        {
            get
            {
                return Location.ToString();
            }
        }

        public City(string name, Point2D location)
        {
            Name = name;
            Location = location;
        }

        public int CompareTo(City other)
        {
            return this.Location.CompareTo(other.Location);
        }

        public override string ToString()
        {
            return $"{Name} {Location}";
        }
    }
}
```

Point2D:

```csharp
// DataStructureAlgorithm/LinearList/Point2D.cs

using System;
namespace DataStructDemo
{
    public class Point2D : IComparable<Point2D>, IEquatable<Point2D>
    {
        public double X { get; }
        public double Y { get; }

        public Point2D(double x, double y)
        {
            X = x;
            Y = y;
        }

        public double DistanceTo(Point2D other)
        {
            double xd = this.X - other.X;
            double yd = this.Y - other.Y;
            return Math.Sqrt(xd * xd + yd * yd);
        }

        public int CompareTo(Point2D other)
        {
            if ((this.X == other.Y) && (this.Y == other.Y))
            {
                return 0;
            }
            else if ((this.X <= other.X) || (this.Y == other.Y))
            {
                return -1;
            }
            return 1;
        }

        public bool Equals(Point2D other)
        {
            return (this.CompareTo(other) == 0);
        }

        public override string ToString()
        {
            return $"({X}, {Y})";
        }
    }
}
```

å¥½äº†ï¼Œç°åœ¨æˆ‘ä»¬è¡¨ç¤ºå‡ºäº†åŸå¸‚ã€‚ç»“åˆåˆšæ‰çš„çº¿æ€§è¡¨ï¼Œæˆ‘ä»¬å°±å¯ä»¥å‚¨å­˜æ»¡è¶³é¢˜ç›®éœ€è¦çš„è‹¥å¹²åŸå¸‚æ•°æ®äº†ï¼ä½†æ˜¯ï¼Œæˆ‘ä»¬ç›´æ¥ç”¨ `ILinearList<City>` çš„è¯ï¼Œè¿˜æœ‰ä¸€ç‚¹ä¸è¶³ã€‚é—®é¢˜æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿé¢˜ç›®éœ€è¦æˆ‘ä»¬å®Œæˆé€šè¿‡åŸå¸‚åå’Œé€šè¿‡ä¸­å¿ƒåŠå¾„ä¸¤ç§æ–¹å¼è¿›è¡Œæœç´¢ã€‚è€Œæˆ‘ä»¬çš„ `ILinearList` åªèƒ½å®Œæˆç»™å®šå®Œæ•´çš„ object çš„æœç´¢ï¼Œä¹Ÿå°±æ˜¯è¯´åªèƒ½åŒæ—¶ç»™å‡ºåŸå¸‚åã€åæ ‡å»æŸ¥æ‰¾è¿™ä¸ªåŸå¸‚åœ¨ä¸åœ¨æˆ‘ä»¬çš„çº¿æ€§è¡¨ä¸­ã€‚

### åŸå¸‚åˆ—è¡¨

è¦å®ç°é¢˜ç›®è¦æ±‚çš„ä¸¤ç§æœç´¢ï¼Œæˆ‘ä»¬å°±è¦å¾€å·²ç»å®ç°çš„åŸºç¡€çº¿æ€§è¡¨ä¸­åŠ æ–¹æ³•ã€‚æ‰€ä»¥æˆ‘ä»¬è€ƒè™‘æ„å»ºä¸€ä¸ªæ–°çš„ `CityList` å»ç»§æ‰¿å·²ç»å®ç°å¥½çš„ `SLinkList`ï¼ŒåŒæ—¶æ·»åŠ åŸå¸‚é“¾è¡¨æ‰€ç‰¹éœ€çš„ä¸¤ç§æœç´¢æ“ä½œã€‚

æˆ‘ä»¬çš„ ILinearList æ¥å£é‡Œçš„ Search æ˜¯è¿”å›ä¸€ä¸ªæ•´æ•°çš„ï¼Œä½†è¿™é‡Œæˆ‘ä»¬çš„æœç´¢ç»“æœå¯ä¸ä¸€å®šæ˜¯åªæœ‰ä¸€ä¸ªæ•°ï¼Œæ‰€ä»¥æœç´¢çš„ç»“æœè¿˜å¾—ç”¨ä¸€ä¸ªé›†åˆå»å­˜ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥å°è¯•åœ¨è¿™é‡Œä½¿ç”¨æˆ‘ä»¬å®ç°çš„å¦ä¸€ç§çº¿æ€§è¡¨â€”â€”`SeqList`ã€‚

![CityList](https://tva1.sinaimg.cn/large/00831rSTgy1gcmn4rlejcj30mq0ayq45.jpg)

**ä»£ç å®ç°ï¼š**(è¿™é‡Œæˆ‘ä»¬é¢å¤–è¿˜å®ç°äº†IEnumerable, INotifyPropertyChangedè¿™ä¸¤ä¸ªæ¥å£ï¼Œç†ç”±åé¢å†è®¨è®º)

```csharp
// Demo/DataStructDemo/CityListPage.xaml.cs

using System;
using System.Collections;
using System.Collections.Generic;
using DataStructureAlgorithm.LinearList;

using System.ComponentModel;

namespace DataStructDemo
{
    public class CityList : SLinkList<City>, IEnumerable, INotifyPropertyChanged
    {
        // SearchByName é€šè¿‡åŸå¸‚åæœç´¢ï¼Œè¿”å›ç»™å®šåç§°çš„åŸå¸‚ç´¢å¼•åˆ—è¡¨(SeqList<int>)
        public SeqList<int> SearchByName(string name)
        {
            SeqList<int> find = new SeqList<int>(Length);

            int index = 0;
            for (var current = HeadNode; current != null; current = current.Next)
            {
                if (name.CompareTo(current.Data.Name) == 0)
                {
                    find.Insert(0, index);
                }
                index++;
            }
            return find;
        }

        // SearchByLocation é€šè¿‡ç»™å®šä¸­å¿ƒç‚¹ã€æœç´¢åŠå¾„æœç´¢åŸå¸‚ï¼Œè¿”å›ç»™å®šèŒƒå›´å†…çš„åŸå¸‚ç´¢å¼•åˆ—è¡¨(SeqList<int>)
        public SeqList<int> SearchByLocation(Point2D center, double radius)
        {
            SeqList<int> find = new SeqList<int>(Length);

            int index = 0;
            for (var current = HeadNode; current != null; current = current.Next)
            {
                if (center.DistanceTo(current.Data.Location) <= radius)
                {
                    find.Insert(0, index);
                }
                index++;
            }
            return find;
        }

        public IEnumerator<City> GetEnumerator()
        {
            for (var current = HeadNode; current != null; current = current.Next)
            {
                yield return current.Data;
            }
        }

        IEnumerator IEnumerable.GetEnumerator()
        {
            return (IEnumerator)GetEnumerator();
        }

        public ArrayList ToArrayList()
        {
            ArrayList arrayList = new ArrayList();
            for (var current = HeadNode; current != null; current = current.Next)
            {
                arrayList.Add(current.Data);
            }
            return arrayList;
        }
    }
}
```

ç°åœ¨ï¼Œæ ¸å¿ƒçš„æ•°æ®è¡¨ç¤ºã€å­˜å‚¨éƒ¨åˆ†å°±å…¨éƒ¨æå®šäº†ï¼šæˆ‘ä»¬å¯ä»¥è¡¨ç¤ºäº†åŸå¸‚ï¼Œç„¶åæŠŠå®ƒä»¬å‚¨å­˜åˆ°é“¾è¡¨ä¸­ï¼Œå¹¶æä¾›äº†è¦æ±‚çš„å‡ ç§å¢åˆ æ”¹æŸ¥æ“ä½œã€‚

æ¥ä¸‹æ¥å°±æ˜¯å®è¡Œä¸€ä¸ª UI ç•Œé¢å»å±•ç¤ºè¿™ä¸ªåŸå¸‚é“¾è¡¨ï¼Œå¹¶ç»™ç”¨æˆ·æä¾›å®Œæˆå„ç§æ“ä½œçš„æ¥å£äº†ã€‚

### UI

ä¹‹å‰è®¨è®ºè¿‡äº†ï¼Œç”±äºä¸€äº›ä¸çŸ¥åçš„åŸå› ï¼Œæˆ‘ä»¬é€‰æ‹©äº†ä½¿ç”¨ Xamarin å®Œæˆ UIï¼ˆå‡†ç¡®åœ°è¯´æ˜¯è·¨å¹³å°çš„ Xamarin.Formsï¼‰ã€‚

å¾ˆè‡ªç„¶çš„ï¼Œå±•ç°ä¸€ä¸ªåˆ—è¡¨ï¼Œæˆ‘ä»¬å½“ç„¶æ˜¯ä½¿ç”¨ `ListView`ï¼Œè€Œç”¨æˆ·è¦æ“ä½œæ•°æ®ï¼Œå°±éœ€è¦æœ‰æ¥æ”¶ç”¨æˆ·è¾“å…¥çš„ `Entry` ä»¥åŠå‘èµ·æ“ä½œçš„ `Button` äº†ã€‚

è¿˜æœ‰å¦‚æœæˆ‘ä»¬ç»™æ¯ä¸ªå¢åˆ æ”¹æŸ¥æ“ä½œéƒ½åœ¨ç•Œé¢ä¸Šåˆ†é…ä¸€ä¸ªæŒ‰é’®çš„è¯æ‰‹æœºå±å¹•è‚¯å®šæ”¾ä¸ä¸‹ï¼ˆæ”¾ä¸‹äº†ä¹Ÿæç«¯ä¸å¥½çœ‹ï¼‰ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥è€ƒè™‘åœ¨è¿è¡Œæ—¶ç”¨ `DisplayActionSheet` æ¥è®©ç”¨æˆ·é€‰æ‹©æ“ä½œï¼Œè¿™æ ·ç•Œé¢å°±æ¯”è¾ƒæ¸…çˆ½äº†ã€‚

è‡³äºæœç´¢åŠŸèƒ½ï¼Œå› ä¸ºæ¶‰åŠåˆ°ä¸¤ç§æœç´¢ï¼Œæ¯”è¾ƒå¤æ‚ã€‚å¦‚æœæˆ‘ä»¬åœ¨ä¸€ä¸ªé¡µé¢é‡Œåˆè¦å®ŒæˆåŸå¸‚æ˜¾ç¤ºï¼Œåˆè¦æä¾›å¢åˆ æ”¹æŸ¥æ“ä½œï¼Œè¿˜æœ‰æœ‰ä¸¤ç§ä¸åŒçš„æœç´¢ï¼Œç•Œé¢å°±ä¼šå˜å¾—å’Œè€å¸ˆæä¾›çš„å‚è€ƒé¡µé¢ä¸€æ‘¸ä¸€æ ·ï¼Œå¾ˆå¤æ‚ï¼Œå¾€ä½ æ‰‹æœºé‚£å‡ å¯¸å±å¹•é‡Œå¡è¿™ä¹ˆå¤šä¸œè¥¿æ˜¯ä¸ä¼˜é›…ã€ä¸ç®€æ´ã€ä¸æ˜“ç”¨çš„ã€‚æ‰€ä»¥æˆ‘ä»¬æŠŠæœç´¢åŠŸèƒ½å•ç‹¬æ”¾åˆ°ä¸€ä¸ª Page é‡Œï¼Œåœ¨ City List Page åªç•™ä¸‹ä¸€ä¸ªè¿›å…¥ Search Page æŒ‰é’®ã€‚å®Œæˆè¿™äº›ä¹‹åï¼Œæˆ‘ä»¬å°±å¾—åˆ°äº†è¿™æ ·çš„ City List Pageï¼Œå·®å¼ºäººæ„ï¼Œä½†æˆ‘å¯ä»¥æ¥å—äº†ï¼š

![IMG_448](https://tva1.sinaimg.cn/large/00831rSTgy1gclsi51c5vj30u00whq4x.jpg)

**ä»£ç å®ç°**ï¼š

ç•Œé¢ï¼š`Demo/DataStructDemo/CityListPage.xaml`

```xml
<?xml version="1.0" encoding="utf-8"?>
<ContentPage xmlns="http://xamarin.com/schemas/2014/forms"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="DataStructDemo.CityListPage"
             Title="City List">
    <ContentPage.ToolbarItems>
        <ToolbarItem Text="Search"
                     Clicked="OnSearchClicked" />
    </ContentPage.ToolbarItems>
    <StackLayout BackgroundColor="#FAFAFA">
        <ListView x:Name="CityListView"
              Margin="20"
              BackgroundColor="#FAFAFA"
              ItemSelected="OnListViewItemSelected">
            <ListView.ItemTemplate>
                <DataTemplate>
                    <TextCell Text="{Binding Name}"
                          Detail="{Binding LocationStr}" />
                </DataTemplate>
            </ListView.ItemTemplate>
        </ListView>
        <StackLayout BackgroundColor="#FFF"
                     x:Name="SelectedAndOperate">
            <BoxView Color="#000000"
                     WidthRequest="10000"
                     HeightRequest="0.17"/>
            <Label Text="Selected:" 
                   HorizontalOptions="Start"
                   VerticalOptions="CenterAndExpand"
                   Margin="20, 5, 20, 5"/>
            <StackLayout Orientation="Horizontal"
                         HorizontalOptions="Center">
                <Entry Placeholder="City Name"
                   x:Name="InputCityName"
                   HorizontalTextAlignment="Center"
                   WidthRequest="125"
                   Margin="5, 0, 5, 0"/>
                <Entry Placeholder="Index"
                   x:Name="InputIndex"
                   WidthRequest="125"
                   HorizontalTextAlignment="Center"
                   Margin="5, 0, 5, 0"/>
            </StackLayout>
            <StackLayout Orientation="Horizontal" 
                         HorizontalOptions="Center">
                <Entry Placeholder="Location X"
                   x:Name="InputLocationX"
                   HorizontalTextAlignment="Center"
                   WidthRequest="125"
                   Margin="5, 0, 5, 0"/>
                <Entry Placeholder="Location Y"
                   x:Name="InputLocationY"
                   HorizontalTextAlignment="Center"
                   WidthRequest="125"
                   Margin="5, 0, 5, 0"/>
            </StackLayout>

            <Button Text="&gt;&gt; Operate &lt;&lt;"
                    Clicked="OnOperateClicked"
                    Margin="10, 10, 10, 10"/>
        </StackLayout>
    </StackLayout>
</ContentPage>
```

é€»è¾‘ï¼š

```csharp
// Demo/DataStructDemo/CityListPage.xaml.cs

using System;
using System.Collections.Generic;
using Xamarin.Forms;
using System.Collections.ObjectModel;
using System.Threading;
using System.Threading.Tasks;

namespace DataStructDemo
{
    public partial class CityListPage : ContentPage
    {

        private CityList cities;

        //private ObservableCollection<City> lst;

        public CityListPage()
        {
            InitializeComponent();

            cities = new CityList();
            AddSomeCitys(cities);

            // lst = new ObservableCollection<City>();

            // lst.Add(new City("Foo", new Point2D(500, 500)));
            // lst.Add(new City("Bar", new Point2D(703, 500)));

        }

        protected override void OnAppearing()
        {
            base.OnAppearing();

            CityListView.ItemsSource = cities;
        }

        public async void OnSearchClicked(object sender, EventArgs e)
        {
            // DisplayAlert("æœªå®Œæˆçš„åŠŸèƒ½", "ç°åœ¨è¿˜ä¸èƒ½ç”¨å“¦", "å–æ¶ˆ");
            await Navigation.PushAsync(new CitySearchPage(cities));
        }

        public void OnListViewItemSelected(object sender, SelectedItemChangedEventArgs e)
        {
            InputCityName.Text = (e.SelectedItem as City).Name;
            InputIndex.Text = (e.SelectedItemIndex).ToString();
            InputLocationX.Text = ((e.SelectedItem as City).Location.X).ToString();
            InputLocationY.Text = ((e.SelectedItem as City).Location.Y).ToString();
        }

        public async void OnOperateClicked(object sender, EventArgs e)
        {
            try
            {
                if (InputCityName.Text == "")
                {
                    throw new Exception("City Name cannot be empty.");
                }
                if (InputLocationX.Text == "" || InputLocationY.Text == "")
                {
                    throw new Exception("Location X/Y cannot be empty.");
                }

                string cityName = InputCityName.Text;
                double locX = double.Parse(InputLocationX.Text);
                double locY = double.Parse(InputLocationY.Text);
                int index = int.Parse(InputIndex.Text);

                string action = await DisplayActionSheet($"ä»¥é€‰æ‹© {cityName} ({locX}, {locY}), index={index}", "Cancel", null, "å¤´æ’", "å°¾æ’", "æ’å…¥åˆ°indexå¤„", "åˆ é™¤indexå¤„çš„åŸå¸‚", "æ›´æ–°indexå¤„çš„åŸå¸‚");
                await HandOperateAction(action, cityName, locX, locY, index);

            }
            catch (Exception ex)
            {
                await DisplayActionSheet("è¾“å…¥æœ‰è¯¯ï¼Œæ— æ³•ç»§ç»­æ“ä½œ: \n" + ex.Message, "Cancel", null);
            }

        }

        private async Task<bool> HandOperateAction(string action, string cityName, double locX, double locY, int index)
        {
            bool ok = false;
            try
            {
                City city = new City(cityName, new Point2D(locX, locY));
                switch (action)
                {
                    case "å¤´æ’":
                        cities.InsertAtHead(city);
                        // lst.Insert(0, city);
                        break;
                    case "å°¾æ’":
                        cities.InsertAtRear(city);
                        // lst.Add(city);
                        break;
                    case "æ’å…¥åˆ°indexå¤„":
                        cities.Insert(index, city);
                        break;
                    case "åˆ é™¤indexå¤„çš„åŸå¸‚":
                        cities.RemoveAt(index);
                        break;
                    case "æ›´æ–°indexå¤„çš„åŸå¸‚":
                        cities[index] = city;
                        break;
                }
                ok = true;
            }
            catch (Exception ex)
            {
                await DisplayAlert("å‡ºé”™å•¦!", "ä¸èƒ½å®Œæˆæ“ä½œ:\n" + ex.Message, "å–æ¶ˆ");
            }
            finally
            {
                RefreshCityListView();
            }
            return ok;
        }

        private void RefreshCityListView()
        {
            CityListView.BeginRefresh();
            CityListView.ItemsSource = null;
            CityListView.EndRefresh();
            CityListView.ItemsSource = cities;
        }

        private void AddSomeCitys(CityList cities)
        {
            cities.InsertAtRear(new City("Foo", new Point2D(500, 500)));
            cities.InsertAtRear(new City("Bar", new Point2D(703, 500)));
            cities.InsertAtRear(new City("Gophers' City", new Point2D(600, 1200)));
            cities.InsertAtRear(new City("å·å¨", new Point2D(100, 20)));
        }
    }
}
```

ç»§ç»­ï¼Œå†™æˆ‘ä»¬åˆšæ‰è½ä¸‹çš„æœç´¢é¡µé¢ã€‚å…¶å®è¿™é‡Œè¦å®ç°çš„å¥½çœ‹å¾ˆéº»çƒ¦äº†ï¼Œä½ å¯ä»¥å»æ ¹æ®ç”¨æˆ·é€‰æ‹©æœåå­—è¿˜æ˜¯æœåæ ‡è€ŒåŠ¨æ€å“åº”ï¼Œç»™å‡ºä¸åŒçš„æœç´¢æ¡†ï¼Œç„¶åè¿›è¡Œæœç´¢ã€ç»“æœå±•ç¤ºã€‚æˆ‘ä¸æƒ³è¿™ä¹ˆåšï¼ˆæˆ‘è¿˜æ˜¯ä¸ª Xamarin æ–°æ‰‹ï¼Œæˆ‘æœ‰ç‚¹å®³æ€•è¿™ä¹ˆå¤æ‚çš„é¡µé¢ï¼‰ï¼Œè¿˜æ˜¯ç®€å•æš´åŠ›ä¸€ç‚¹ï¼Œç›´æ¥æŠŠä¸¤ç§è¾“å…¥åšåˆ°ä¸€èµ·æ¯”è¾ƒæ–¹ä¾¿ï¼š

![IMG_449](https://tva1.sinaimg.cn/large/00831rSTgy1gclstvjqawj30u00whgn8.jpg)

**ä»£ç å®ç°ï¼š**

ç•Œé¢ï¼š`Demo/DataStructDemo/CitySearchPage.xaml`

```xml
<?xml version="1.0" encoding="UTF-8"?>
<ContentPage xmlns="http://xamarin.com/schemas/2014/forms"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="DataStructDemo.CitySearchPage"
             Title="City Search">
    <StackLayout Margin="20">
        <Grid>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="0.2*" />
                <ColumnDefinition Width="0.2*" />
                <ColumnDefinition Width="0.2*" />
                <ColumnDefinition Width="0.25*" />
            </Grid.ColumnDefinitions>
            <Grid.RowDefinitions>
                <RowDefinition/>
                <RowDefinition/>
                <RowDefinition/>
                <RowDefinition/>
            </Grid.RowDefinitions>
            <Label Text="é€šè¿‡åŸå¸‚åæœç´¢ï¼š"
                   HeightRequest="25"
                   Grid.Row="0"
                   Grid.ColumnSpan="4"/>
            <Entry Placeholder="City Name"
                   x:Name="InputName"
                   HorizontalTextAlignment="Center"
                   Grid.Row="1"
                   Grid.Column="0" Grid.ColumnSpan="3" />
            <Button Text="Search"
                   Clicked="SearchByNameClicked"
                   Grid.Row="1"
                   Grid.Column="3" Grid.ColumnSpan="1"/>
            <Label Text="æˆ– é€šè¿‡ä¸­å¿ƒåæ ‡ã€åŠå¾„æœç´¢ï¼š"
                   Margin="0,10,0,10"
                   HeightRequest="25"
                   Grid.Row="2"
                   Grid.ColumnSpan="4"/>
            <Entry Placeholder="X"
                   x:Name="InputX"
                   HorizontalTextAlignment="Center"
                   Grid.Row="3"
                   Grid.Column="0"/>
            <Entry Placeholder="Y"
                   x:Name="InputY"
                   HorizontalTextAlignment="Center"
                   Grid.Row="3"
                   Grid.Column="1"/>
            <Entry Placeholder="Radius"
                   x:Name="InputRadius"
                   HorizontalTextAlignment="Center"
                   Grid.Row="3"
                   Grid.Column="2"/>
            <Button Text="Search"
                   Clicked="SearchByLocationClicked"
                   Grid.Row="3"
                   Grid.Column="3" Grid.ColumnSpan="1"/>
        </Grid>
        <BoxView Color="#000000"
                   WidthRequest="10000"
                   HeightRequest="0.17"/>
        <Label Text="æœç´¢ç»“æœ:"
               HeightRequest="25"
               Margin="0,10,0,10"/>
        <ListView x:Name="CitySearchListView"
              HeightRequest="300"
              ItemSelected="OnListViewItemSelected">
            <ListView.ItemTemplate>
                <DataTemplate>
                    <TextCell Text="{Binding Name}"
                          Detail="{Binding LocationStr}" />
                </DataTemplate>
            </ListView.ItemTemplate>
        </ListView>
    </StackLayout>

</ContentPage>
```

é€»è¾‘ï¼š

```csharp
// Demo/DataStructDemo/CitySearchPage.xaml.cs

using System;
using DataStructureAlgorithm.LinearList;
using System.Collections.Generic;

using Xamarin.Forms;

namespace DataStructDemo
{
    public partial class CitySearchPage : ContentPage
    {
        private CityList cities;

        public CitySearchPage(CityList cityList)
        {
            InitializeComponent();
            cities = cityList;
        }

        public void OnListViewItemSelected(object sender, SelectedItemChangedEventArgs e)
        {
            DisplayAlert("æœªå®Œæˆçš„åŠŸèƒ½", "ä½ ç‚¹å®ƒå¹²å˜›å•Šï¼Œæˆ‘æƒ³ä¸å‡ºè¿™é‡Œè¦åšä»€ä¹ˆæ“ä½œã€‚", "å–æ¶ˆ");
        }

        void SearchByNameClicked(object sender, EventArgs e)
        {
            try
            {
                if (InputName.Text == "")
                {
                    throw new Exception("è¦æœç´¢çš„åŸå¸‚åä¸èƒ½ä¸ºç©ºã€‚");
                }

                SeqList<int> indices = cities.SearchByName(InputName.Text);
                ShowFoundCities(indices);

            }
            catch (Exception ex)
            {
                DisplayActionSheet("å‘ç”Ÿé”™è¯¯ï¼Œæœªèƒ½å®Œæˆæœç´¢: \n" + ex.Message, "Cancel", null);
            }
        }

        void SearchByLocationClicked(object sender, EventArgs e)
        {
            try
            {
                if ((InputX.Text == "") || (InputY.Text == "") || (InputRadius.Text == ""))
                {
                    throw new Exception("è¦æœç´¢çš„ä¸­å¿ƒåæ ‡Xã€Yä»¥åŠæœç´¢åŠå¾„Radiusä¸èƒ½ä¸ºç©ºã€‚");
                }

                Point2D center = new Point2D(double.Parse(InputX.Text), double.Parse(InputY.Text));
                double radius = double.Parse(InputRadius.Text);

                SeqList<int> indices = cities.SearchByLocation(center, radius);
                ShowFoundCities(indices);
            }
            catch (Exception ex)
            {
                DisplayActionSheet("å‘ç”Ÿé”™è¯¯ï¼Œæœªèƒ½å®Œæˆæœç´¢: \n" + ex.Message, "Cancel", null);
            }
        }

        void ShowFoundCities(SeqList<int> indices)
        {
            CityList foundCities = new CityList();
            for (var i = 0; i < indices.Length; i++)
            {
                foundCities.InsertAtHead(cities[indices[i]]);
            }

            CitySearchListView.ItemsSource = foundCities;

            if (foundCities.IsEmpty())
            {
                NoResultFound();
            }
        }

        void NoResultFound()
        {
            DisplayAlert("æ— ç»“æœ", "æ²¡æœ‰æ‰¾åˆ°ç¬¦åˆæ¡ä»¶çš„åŸå¸‚ã€‚", "å–æ¶ˆ");
        }
    }
}
```

OKäº†ï¼Œç•Œé¢çš„è®¾è®¡ä¹Ÿå®Œæˆäº†ï¼Œï¼Œï¼Œè¿™ä¸ªä¸œè¥¿å¥½åƒå·²ç»å…¨éƒ¨ä»‹ç»å®Œäº†ï¼Œå› ä¸ºç®€å•å˜›ï¼Œæ²¡å¤šå°‘å¥½è¯´çš„ã€‚æˆ‘å…ˆå»ç¡ä¸ªè§‰å†æ¥ç€ä»‹ç»ä¸€ä¸‹æˆ‘é‡åˆ°çš„ä¸€äº›é—®é¢˜ã€‚

...... Me.Sleep(11 * time.Hour);	// å‡ ä¸ªå°æ—¶è¿‡å»äº†

## å®ç°éš¾ç‚¹

æˆ‘å‰é¢ç»™å‡ºä»£ç çš„é‡Œé¢æœ‰äº› IEnumerable, INotifyPropertyChanged ä¹‹ç±»çš„ä¸œè¥¿ï¼Œæˆ‘æ²¡æœ‰è§£é‡Šè¿™æ˜¯å¹²ä»€ä¹ˆçš„ï¼Œæ˜¯å› ä¸ºè¿™ä¸ªé—®é¢˜æ¯”è¾ƒå¤æ‚ï¼ˆæ˜¯å› ä¸ºæˆ‘è¿˜æ²¡æœ‰ä¼˜é›…åœ°è§£å†³é—®é¢˜ï¼‰ï¼Œç•™åˆ°è¿™é‡Œæ¥å•ç‹¬è®¨è®ºã€‚

åœ¨æˆ‘ä»¬å®ç°çš„è®¾è®¡çš„æ—¶å€™ï¼ŒåŸå¸‚æ”¾åˆ°äº†ç»§æ‰¿è‡ª `SLinkList` çš„ `CityList`ï¼Œç„¶åæˆ‘ä»¬æŠŠè¿™ä¸ª `CityList` æ”¾åˆ°äº† Xamarin æä¾›çš„ `ListView` ä¸­æ˜¾ç¤ºå‡ºæ¥ã€‚æ³¨æ„åˆ°äº†æ²¡æœ‰ï¼Ÿé—®é¢˜å°±æ˜¯äººå®¶ Xamarin çš„ç»„ä»¶ä¸ºä»€ä¹ˆæ”¯æŒå’±è‡ªå·±å®ç°çš„é‡ç”Ÿæ•°æ®ç»“æ„ï¼Ÿ

`ListView` æ˜¯é€šè¿‡ set `ItemsSource` æ¥ç»™å®šè¦æ˜¾ç¤ºçš„åˆ—è¡¨çš„ï¼Œè€Œè¿™ä¸ª `ItemsSource` çš„æ¥æ”¶çš„æ˜¯ `IEnumerable` æ¥å£çš„å®ç°ã€‚æ‰€ä»¥æˆ‘ä»¬åªéœ€è¦è®© `CityList` å®ç°ä¸€ä¸ª `IEnumerable` å°±å¯ä»¥æ˜¾ç¤ºå‡ºæ¥äº†ã€‚

ä½†ï¼Œä»…ä»…æ˜¯ç°å®å‡ºæ¥ï¼å¦‚æœä½ å»å°è¯•è¿è¡Œï¼Œä¼šå‘ç°ï¼Œåœ¨ `CityList` åœ¨å±å¹•ä¸Šæ˜¾ç¤ºå‡ºæ¥åï¼Œä½ å°½ç®¡å¾€é‡Œé¢æ·»åŠ ã€åˆ é™¤ã€ä¿®æ”¹ï¼Œæ˜¾ç¤ºå‡ºæ¥çš„åˆ—è¡¨æ€»æ˜¯çº¹ä¸ä¸åŠ¨ï¼

è¿™çœ‹ä¸Šå»å¥½åƒæ˜¯æˆ‘ä»¬è‡ªå·±å®ç°çš„ `CityList` è¿˜æ˜¯æœ‰ç¼ºé™·ï¼Œä¸èƒ½æ”¯æŒ ListView çš„è‡ªåŠ¨æ›´æ–°ï¼Œé‚£ä¹ˆæˆ‘ä»¬æ¢ä¸€ä¸ªç³»ç»Ÿçš„åˆ—è¡¨å®ç°ï¼Œç”¨ `List<City>` ä»£æ›¿ `CityList`ã€‚å†æ¬¡å°è¯•ï¼Œä½ è¿˜æ˜¯ä¼šå‘ç° ListView ä¸ä¼šè‡ªåŠ¨æ›´æ–°ï¼

è¿™å°±æœ‰ç‚¹ç¦»è°±äº†å•Šï¼ŒListView ä¸æ”¯æŒç³»ç»Ÿæ ‡å‡†å®ç°çš„ List!

äº‹å·²è‡³æ­¤ï¼Œæˆ‘ä»¬åªå¥½çœ‹è°·æ­Œçœ¼è‰²è¡Œäº‹ã€‚ç½‘ä¸Šä¸€äº›å¤§ä½¬ç»™å‡ºçš„ Xamarin.Forms ListView æœ€ä½³å®è·µä¸­ï¼Œæ€»æ˜¯ä¼šåœ¨ä»£ç é‡Œç»™ `ItemsSource` ä¼ ä¸€ä¸ª `List<>` çš„æ•°æ®ï¼Œç„¶åé¡ºä¾¿æé‚£ä¹ˆä¸€å¥ï¼šâ€œè¿™é‡Œæ›´æ¨èç”¨ ObservableCollectionï¼Œä»¥å®ç°æ•°æ®åˆ·æ–°ååˆ—è¡¨çš„æ›´æ–°æ˜¾ç¤º......â€

é‚£å¥½å§ï¼Œçœ‹æ¥æˆ‘ä»¬æŒ‰ç…§å¤§ä½¬çš„å»ºè®® æŠŠ List æ¢æˆ `ObservableCollection`ï¼Œç„¶åæ•°æ®æ›´æ–°çœŸçš„ä¼šè‡ªåŠ¨æ˜¾ç¤ºäº†ï¼

æˆ‘ç»§ç»­ç ”ç©¶äº†ä¸€ä¸‹è¿™ä¸ª `ObservableCollection`ï¼Œç½‘ä¸Šè¯´å› ä¸º ObservableCollection å®ç°äº†`INotifyPropertyChanged`ï¼Œæ‰€ä»¥ ListView æ‰å¯ä»¥è‡ªåŠ¨æ›´æ–°ã€‚

ä»¿ç…§ [INotifyPropertyChanged Interfaceçš„æ–‡æ¡£](https://docs.microsoft.com/en-us/dotnet/api/system.componentmodel.inotifypropertychanged?view=netframework-4.8) æˆ‘å®ç°çš„ INotifyPropertyChanged å¤§æ¦‚æ˜¯è¿™æ ·çš„ï¼š

```csharp
public event PropertyChangedEventHandler PropertyChanged;

protected void NotifyPropertyChanged(String info)
{
    if (this.PropertyChanged != null)		// è¿™é‡Œè¿˜å¯ä»¥ç®€åŒ–æˆå§”æ‰˜ï¼Œæ•ˆæœæ˜¯ä¸€æ ·çš„
    {
        this.PropertyChanged(this, new PropertyChangedEventArgs(info));
    }
}

public void Remove(int index)
{
    ...
    NotifyPropertyChanged("remove");
}

public void Insert(int index, T data)
{
    ...
    NotifyPropertyChanged("insert");

}
```

ä½†æ˜¯ï¼Œè¿™æ ·ä¹Ÿä¸è¡Œï¼æ•°æ®è¿˜æ˜¯ä¸ä¼šè‡ªåŠ¨åˆ·æ–°ã€‚

ç„¶åæˆ‘æŸ¥äº† [ObservableCollectionçš„æºç ](https://referencesource.microsoft.com/#System/compmod/system/collections/objectmodel/observablecollection.cs,4eb38b95b10327e7) ï¼Œæˆ‘å°è¯•æŠ„ä»–çš„ä»£ç ï¼Œå¾—åˆ°äº†ä¸€ä¸ªè¿™æ ·çš„ SLinkListï¼ˆè¿™é‡Œç®€åŒ–ç»†èŠ‚äº†ï¼Œè¯¦ç»†çš„ä»£ç å°±æ˜¯ä¹‹å‰è®¾è®¡å®ç°éƒ¨åˆ†ç»™å‡ºçš„ SLinkList æºç ï¼‰ï¼š

```csharp
using System;
using System.ComponentModel;

namespace DataStructureAlgorithm.LinearList
{
    public class SLinkList<T> : ILinearList<T>, INotifyPropertyChanged where T : IComparable<T>
    {
        public int Length { get; private set; }
        protected string LengthStr = "Length";
        
        public SNode<T> HeadNode { get; private set; }
        protected string HeadNodeStr = "HeadNode";

        public SLinkList() {...}

        public event PropertyChangedEventHandler PropertyChanged;

        protected SNode<T> NodeAt(int index) { ... }
        
        public T this[int index]
        {
            get {...}
            set
            {
                ...
                OnPropertyChanged(IndexerName);
            }
        }
        protected string IndexerName = "this[]";

        public void Clear()
        {
            ...
            OnPropertyChanged(LengthStr);
            OnPropertyChanged(IndexerName);
        }

        public void Insert(int index, T data)
        {
            ...
            OnPropertyChanged(LengthStr);
            OnPropertyChanged(IndexerName);

        }

        public void InsertAtHead(T data) { Insert(0, data); }

        public void InsertAtRear(T data) { Insert(Length, data); }

        public bool IsEmpty() { }

        public void Remove(int index)
        {
            ...
            OnPropertyChanged(LengthStr);
            OnPropertyChanged(IndexerName);
        }

        public int Search(T data) { }

        event PropertyChangedEventHandler INotifyPropertyChanged.PropertyChanged
        {
            add
            {
                PropertyChanged += value;
            }
            remove
            {
                PropertyChanged -= value;
            }
        }

        private void OnPropertyChanged(string propertyName)
        {
            OnPropertyChanged(new PropertyChangedEventArgs(propertyName));
        }

        protected virtual void OnPropertyChanged(PropertyChangedEventArgs e)
        {
            if (PropertyChanged != null)
            {
                PropertyChanged(this, e);
            }
        }
    }
}
```

ä½†æ˜¯ï¼Œè¿™æ ·è¿˜æ˜¯ä¸è¡Œã€‚ã€‚ã€‚ã€‚ã€‚ã€‚æˆ‘è§‰å¾—é—®é¢˜å¯èƒ½æ˜¯å‡ºåœ¨æˆ‘å†™çš„ `OnPropertyChanged(IndexerName)`ã€`protected string IndexerName = "this[]";` è¿™é‡Œï¼Œæˆ‘è§‰å¾—ä¸åº”è¯¥æ˜¯ `this[]`ï¼Œä½†æˆ‘å®Œå…¨ä¸çŸ¥é“è¿™ä¸ª `propertyName` æ˜¯ä»€ä¹ˆä¸œè¥¿ã€åº”è¯¥å†™ä»€ä¹ˆã€‚ã€‚ã€‚

---

ç›®å‰ï¼Œæˆ‘è§£å†³çš„æ–¹æ³•æ˜¯ï¼Œå¼ºåˆ¶ ListView å»é‡æ–°è½½å…¥æ•°æ®æºï¼Œè¿™è‚¯å®šä¸æ˜¯ä¸ªå¥½åŠæ³•ï¼Œè¿™æ ·å»åˆ·æ–°ç•Œé¢ä¼šå¿«é€Ÿé—ªå‡ºæ–°æ•°æ®ï¼Œè€Œä¸æ˜¯åƒä½¿ç”¨ ObservableCollection ä½œä¸ºæ•°æ®æºé‚£æ ·ä¿®æ”¹æ•°æ®åä¼šè‡ªåŠ¨æœ‰å¹³æ»‘çš„åŠ¨ç”»å»å±•ç¤ºåˆ—è¡¨å˜åŠ¨ï¼š

```csharp
private void refreshCityListView()
{
    // CityListView.BeginRefresh();
    CityListView.ItemsSource = null;
    CityListView.ItemsSource = cities;
    // CityListView.EndRefresh();

}
```

è¿™ä¹ˆåšå®åœ¨ç¬¨æ‹™ï¼Œä½†ä¸€æ—¶åŠä¼šæˆ‘ç¡®å®æ— èƒ½è§£å†³å¦‚ä½•å®ç°ä¸€ä¸ª `ObservableCollection` çš„é—®é¢˜ã€‚å¦‚æœä½ æœ‰æ›´å¥½çš„è§£å†³æ–¹æ¡ˆè¯·åŠ¡å¿…ä¸æˆ‘åˆ†äº«ğŸ¥º

## å…³äºæ•´ä½“ App è®¾è®¡ä¸å±•æœ›

åœ¨ä¸€å¼€å§‹æˆ‘æåˆ°è¿‡æˆ‘æŠŠè¿™ä¸ªåŸå¸‚é“¾è¡¨åªå†™æˆäº†è¿™ä¸ª App é‡Œçš„ä¸€ä¸ªåŠŸèƒ½ï¼æˆ‘æƒ³æŠŠè¿™ä¸ª App å†™æˆä¸€ä¸ªæ¯”è¾ƒå…¨çš„æ•°æ®ç»“æ„ä¸ç®—æ³•æ¼”ç¤ºã€‚

ä½†å…¶å®è¿™ä¹ŸæŒºéš¾çš„ï¼Œæ˜¯ä¸ªä¸å°çš„å·¥ç¨‹äº†ï¼åœ¨æˆ‘çš„æ„æƒ³ä¸­ï¼Œè¿™ä¸ª App çš„å®Œæ•´å½¢æ€åº”è¯¥æ˜¯åˆ†æˆ 4 ä¸ªæ¿å—çš„ï¼š

- *å­¦ä¹ *ï¼šå°±æ˜¯æ”¾æ•°æ®ç»“æ„ä¸ç®—æ³•å­¦ä¹ çš„èµ„æ–™ï¼Œå‚è€ƒâ€œç®—æ³•åŠ¨ç”»å›¾è§£â€ï¼›
- *è¯•éªŒ*ï¼šå°±æ˜¯æ”¾æ¯”å¦‚æˆ‘ä»¬è¿™æ¬¡çš„åŸå¸‚é“¾è¡¨è¿™æ ·çš„æ•°æ®ç»“æ„ä½¿ç”¨å®è·µçš„åœ°æ–¹ï¼Œå³ç°åœ¨å·²ç»å®ç°çš„â€œç›®å½•â€é¡µï¼›
- *äº¤æµ*ï¼šå°±æ˜¯ä¸€ä¸ª WebView æ‰“å¼€ä¸ª Wordpress è®ºå›äº†ï¼›
- *æˆ‘çš„*ï¼šç™»å½•ã€æ”¶è—ã€è®¾ç½®ã€å…³äºã€åé¦ˆè¿™ä¸€å¥—ã€‚

è¿™ä¸ªè¦åšèµ·æ¥æ—¶é—´å°±æ¯”è¾ƒé•¿äº†ï¼Œæ…¢æ…¢æ¥å§ï¼Œæœ‰æœºä¼šå°±æŠŠå®ƒåšå‡ºæ¥ã€‚(ä¸»è¦æ˜¯å’±äº¤ä¸èµ·99ç¾å…ƒçš„å¹´è´¹ï¼Œä¸ç„¶è¿™ä¸œè¥¿åšå‡ºæ¥æ„Ÿè§‰éƒ½å¯ä»¥ä¸Šæ¶ App Store äº†:)

## ï¼ˆè’Ÿè’»çš„æŠ±æ€¨-Part2ï¼‰

~~â€œè¿™ App å¼€å‘è¿˜æ˜¯ä¸å®¹æ˜“å•Š......â€, ç˜«ååœ¨æ¤…å­ä¸Šçš„è’Ÿè’»æŠ±æ€¨åˆ°ã€‚~~

â€œè¿™ App å¼€å‘è¿˜æ˜¯å¾ˆæœ‰æ„æ€çš„ï½â€ï¼Œè’Ÿè’»å…´é«˜é‡‡çƒˆåœ°å†™ä¸‹è¿™ç¯‡æ–‡ç« çš„æœ€åä¸€å¥ã€‚