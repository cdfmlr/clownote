---
date: 2019-05-07 22:52:57
tags: Algorithm
title: æ•°æ®ç»“æ„ã€Œå›¾ã€çš„åŸºç¡€
---

è¿™ï¼ˆå¯èƒ½ï¼‰æ˜¯ä½ èƒ½æ‰¾åˆ°çš„æœ€ç®€å•çš„è®²å›¾çš„æ–‡ç« ã€‚

> è¿™ç¯‡æ–‡ç« æ˜¯æˆ‘ä»¥å‰å­¦ä¹ ã€Œå›¾ã€æ•°æ®ç»“æ„çš„æ—¶å€™å†™çš„ã€‚ä»Šå¤©ä¸Šè¯¾è®²å›¾ï¼Œæˆ‘ç¿»äº†å¥½ä¹…æ‰ç¿»åˆ°è¿™ä¸ªğŸ˜‚
>
> 
>
> æ³¨ï¼šæ–‡ä¸­ä»£ç å‡ä¸ºä¼ªä»£ç ï¼Œå…¶è¯­æ³•æ¯”è¾ƒç±»ä¼¼äº Python + BASICï¼Œä½ å¯ä»¥ç”¨ä½ å–œæ¬¢çš„ä»»ä½•è¯­è¨€å»åšå…·ä½“å®ç°ã€‚åœ¨æœ€åï¼Œæˆ‘ä¼šé™„ä¸Šæˆ‘çš„ Python å®ç°æºç ã€‚

## ç½‘ç»œçš„è¡¨ç¤º

0. é‚»æ¥çŸ©é˜µ

   ï¼ˆç•¥ï¼Œè¿™ä¸ªæ˜¯æ•°å­¦ï¼Œæˆ‘ä¸æ‡‚ï¼‰

1. æŠŠé“¾è·¯ä½œä¸ºå¼•ç”¨å‚¨å­˜åœ¨ç±»é‡Œï¼ˆè¿å¸¦å…¶ä»–æ•°æ®ï¼‰ï¼š

``` basic
Class Node
	String: name
	List<Node>: neighbors
	List<Integer>: costs
End Node
```

2. é“¾è·¯å’ŒèŠ‚ç‚¹å•ç‹¬ï¼ˆæ›´å¸¸ç”¨ï¼‰ï¼š

```basic
Class Node:
	String: name
	List<Link>: links
End Node

Class Link:
	Integer: cost
	Node: nodes[2]		// æ— å‘
	/* Node: toNode		// æœ‰å‘ */
ENd Link
```

æ— å‘ï¼Œé“¾è·¯åŒ…å«ä¸¤ä¸ª Nodeï¼Œé¡ºåºä»»æ„ã€‚

æœ‰å‘ï¼ŒåªåŒ…å«ä¸€ä¸ª Nodeï¼ŒæŒ‡å‘ç›®æ ‡èŠ‚ç‚¹ï¼Œä¹Ÿå¯ä»¥ç”¨ä¸¤ä¸ªï¼Œä¸€ä¸ªæŒ‡å‘æ¥æºï¼Œå¦ä¸€ä¸ªæŒ‡å‘ç›®æ ‡ã€‚

## ç½‘ç»œçš„éå†

### æ·±åº¦ä¼˜å…ˆ

> åœ¨ä¸€æ¬¡æ·±åº¦ä¼˜å…ˆéå†ä¸­ï¼Œç®—æ³•é¦–å…ˆè®¿é—®ä¸€äº›ç¦»åˆå§‹èŠ‚ç‚¹å¾ˆè¿œçš„èŠ‚ç‚¹ï¼Œä¹‹åæ‰æ˜¯ç¦»åˆå§‹èŠ‚ç‚¹è¾ƒè¿‘çš„èŠ‚ç‚¹ã€‚

ç›´æ¥åƒæ ‘ä¸€æ ·éå†ï¼Œåœ¨å›¾ä¸­æ˜¯ä¸è¡Œçš„ï¼š

``` basic
badTraverse():
	<å¤„ç†èŠ‚ç‚¹>
	For Each link In links:
		link.nodes[1].Traverse()
	Next link
End badTraverse
```

å¦‚æœå›¾åŒ…å«äº†å›è·¯ï¼Œè¿™ä¸ªç®—æ³•ä¼šæ­»å¾ªç¯ã€‚

è§£å†³çš„æ–¹æ³•æ˜¯è®©ç®—æ³•çŸ¥é“è‡ªå·±è®¿é—®è¿‡çš„èŠ‚ç‚¹ï¼Œå¯ä»¥ç»™ç±»ä¸­åŠ ä¸€ä¸ª `visited` å±æ€§æ¥çºªå½•è‡ªå·±æœ‰æ²¡æœ‰è¢«è®¿é—®ï¼š

```basic
slowTraverse():
	<å¤„ç†èŠ‚ç‚¹>
	Self.visited = True
	
	For Each link In links:
		If Not link.nodes[1].visited:
			link.nodes[1].Traverse()
		End If
	Next link
End slowTraverse
```

è¿™ä¸ªç®—æ³•ç†è®ºä¸Šå¯è¡Œï¼Œä½†æ¶ˆè€—å¤ªå¤§ï¼Œå®¹æ˜“çˆ†æ ˆã€‚

è¦è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œå¯ä»¥ç”¨æ ˆæ¥æ›¿æ¢é€’å½’ï¼š

```basic
depthFirstTraverse(Node: startNode):
	// è®¿é—®å½“å‰èŠ‚ç‚¹
	startNode.visited = True
	
	// åˆ›å»ºæ ˆï¼ŒæŠŠåˆå§‹èŠ‚ç‚¹å‹å…¥æ ˆ
	Stack<Node>: stack
	stack.push(stareNode)
	
	// å¾ªç¯å¤„ç†ç›´åˆ°æ ˆä¸ºç©º
	While Not stack.isEmpty():
		Node node = stack.pop()		// ä»æ ˆä¸­è·å–ä¸‹ä¸€èŠ‚ç‚¹
		// å¾ªç¯å¤„ç†èŠ‚ç‚¹ä¸­çš„é“¾è·¯
		For Each link In node.links:
			If Not link.nodes[1].visited:
				link.nodes[1].visited = True
				stack.push(link.node[1])
			End If
		Next link
	Loop		// ç»§ç»­å¤„ç†ç›´åˆ°æ ˆä¸ºç©º
End depthFirstTraverse
```

### å¹¿åº¦ä¼˜å…ˆ

> åœ¨ä¸€æ¬¡å¹¿åº¦ä¼˜å…ˆéå†ä¸­ï¼Œç¦»åˆå§‹èŠ‚ç‚¹è¾ƒè¿‘çš„èŠ‚ç‚¹é¦–å…ˆè¢«è®¿é—®ï¼Œç„¶åæ‰æ˜¯ç¦»åˆå§‹èŠ‚ç‚¹è¾ƒè¿œçš„èŠ‚ç‚¹ã€‚

åœ¨**æ·±åº¦ä¼˜å…ˆéå†**ä¸­ï¼Œç”±äºä½¿ç”¨*åè¿›å…ˆå‡º*çš„æ ˆæ¥å­˜æ”¾èŠ‚ç‚¹ï¼Œæ‰€ä»¥éå†äº†ä¸€äº›ç¦»åˆå§‹èŠ‚ç‚¹è¾ƒè¿œçš„èŠ‚ç‚¹ç„¶åæ‰éå†è¾ƒè¿‘çš„èŠ‚ç‚¹ã€‚

å¦‚æœä½¿ç”¨**é˜Ÿåˆ—**ï¼ˆ*Queues*ï¼ŒFIFOï¼‰ä»£æ›¿**æ ˆ**ï¼ˆ*Stacks*ï¼ŒFILOï¼‰ï¼Œåˆ™èŠ‚ç‚¹ä¼šæŒ‰å…ˆè¿›å…ˆå‡ºçš„é¡ºåºè¢«å¤„ç†ï¼Œç¦»åˆå§‹èŠ‚ç‚¹è¾ƒè¿‘çš„èŠ‚ç‚¹å°±é¦–å…ˆè¢«å¤„ç†äº†ï¼Œå³**å¹¿åº¦ä¼˜å…ˆéå†**ã€‚

### éå†çš„åº”ç”¨

#### æ— å‘å›¾è¿é€šæ€§æµ‹è¯•

å¯¹äºä¸€ä¸ªæ— å‘å›¾ï¼Œå¦‚æœè¿é€šï¼Œä¸€ä¸ªéå†ç®—æ³•ä»åˆè¯†èŠ‚ç‚¹å‡ºå‘ï¼Œå¯è¾¾æ‰€æœ‰èŠ‚ç‚¹ã€‚

```basic
Boolean: isConnected(Node: startNode):
	// ä»åˆè¯†èŠ‚ç‚¹å¼€å§‹éå†ç½‘ç»œ
	Traverse(start_node)
	
	// æŸ¥çœ‹æœ‰æ— æ²¡è¢«è®¿é—®çš„
	For Each node In <æ‰€æœ‰èŠ‚ç‚¹>
		If Not node.visited: Return False
	Next node
	
	// æ‰€æœ‰èŠ‚ç‚¹éƒ½è®¿é—®è¿‡äº†ï¼Œè¿é€š
	Return True
End isConnected
```

#### å¯»æ‰¾æ‰€æœ‰è¿é€šåˆ†é‡

åˆ©ç”¨æ·±åº¦éå†ï¼Œä¸€ç›´éå†ç›´åˆ°æ‰€æœ‰è¿é€šçš„èŠ‚ç‚¹éƒ½å·²ç»è®¿é—®è¿‡ï¼Œå°±æ‰¾åˆ°äº†æ‰€æœ‰è¿é€šåˆ†é‡ï¼š

``` basic
List<List<Node>>: getConnectedComponents:
	// è·Ÿè¸ªè®°å½•å·²ç»è®¿é—®è¿‡çš„èŠ‚ç‚¹æ•°
	Integer: numVisited = 0
	// åˆ›å»ºè¿é€šåˆ†é‡åˆ—è¡¨
	List<Lidt<Node>>: components
	
	// å¾ªç¯ç›´åˆ°æ‰€æœ‰èŠ‚ç‚¹éƒ½åœ¨è¿é€šåˆ†é‡ä¸­
	While numVisited < èŠ‚ç‚¹ä¸ªæ•°:
		// æŸ¥æ‰¾ä¸€ä¸ªè¿˜æœªè®¿é—®è¿‡çš„èŠ‚ç‚¹
		Node: startNode = ç¬¬ä¸€ä¸ªæœªè®¿é—®è¿‡çš„èŠ‚ç‚¹
		
		// å°†åˆå§‹å€¼å‹å…¥æ ˆ
		Stack<Node>: stack
		stack.push(startNode)
		startNode.Visited = True
		numVisited += 1
		
		// å°†èŠ‚ç‚¹æ·»åŠ åˆ°ä¸€ä¸ªæ–°çš„è¿é€šåˆ†é‡ä¸­
		List<Node>: component
		component.add(startNode)
		components.add(component)
		
		// ä¸æ–­å¤„ç†ï¼Œç›´åˆ°å®ƒä¸ºç©º
		While Not stack.isEmpty():
			// ä»æ ˆä¸­è·å–ä¸‹ä¸€ä¸ªèŠ‚ç‚¹
			Node: node = stack.pop()
			
			// ä¾æ¬¡å¤„ç†è¯¥èŠ‚ç‚¹æ‰€æœ‰å¯¹åº”çš„é“¾è·¯
			For Each link In node.links:
				If Not link.nodes[1].visited:
					link.nodes[1].visited = True
					component.add(link.nodes[1])
					stack.push(link.nodes[1])
					// å°†é“¾è·¯æ ‡è®°ä¸ºæ ‘çš„ä¸€éƒ¨åˆ†ï¼Œç”Ÿæˆæ ‘
					link.visited = True
					numVisited += 1
				End If
			Next link
		Loop	// Not stack.isEmpty()
	Loop	// numVisited < èŠ‚ç‚¹ä¸ªæ•°
	
	Return components				
End getConnectedComponents
```

#### ç”Ÿæˆæ ‘

å¦‚æœä¸€ä¸ªæ— å‘å›¾æ˜¯è¿é€šçš„ï¼Œå°±å¯ä»¥ä»¥ä¸€èŠ‚ç‚¹ä¸ºæ ¹å»ºç«‹ä¸€æ£µæ ‘ï¼Œè¡¨ç¤ºæ ¹èŠ‚ç‚¹åˆ°ç½‘ç»œä¸­å…¶ä»–èŠ‚ç‚¹åˆ°è·¯å¾„ã€‚è¿™é¢—æ ‘ç§°ä¸º**ç”Ÿæˆæ ‘**ã€‚

è¦å®ç°è¿™ä¸€ç‚¹ï¼Œåœ¨å‰é¢çš„ç¨‹åºé‡Œæ ‡è®°æ–°èŠ‚ç‚¹è¢«è®¿é—®åï¼Œå°†é“¾è·¯æ ‡è®°ä¸ºæ ‘çš„ä¸€éƒ¨åˆ†ï¼Œå°±è¡Œäº†ï¼š

```basic
link.visited = True
```

##### æœ€å°ç”Ÿæˆæ ‘

å…·æœ‰æœ€å°‘å¯èƒ½ä»£ä»·çš„ç”Ÿæˆæ ‘ç§°ä¸º**æœ€å°ç”Ÿæˆæ ‘**ã€‚

è¦å¾—åˆ°ä¸€é¢—ç”Ÿæˆæ ‘ï¼Œå¯ä»¥ç”¨å¦‚ä¸‹è´ªå¿ƒç­–ç•¥ï¼š

```
1. æ·»åŠ æ ¹èŠ‚ç‚¹Rä»¥åˆå§‹åŒ–ç”Ÿæˆæ ‘
2. å¯¹æ¯ä¸ªèŠ‚ç‚¹é‡å¤ç›´åˆ°å¾—åˆ°ç”Ÿæˆæ ‘ï¼š
		a. å‘ç°åœ¨ç”Ÿæˆæ ‘ä¸­èŠ‚ç‚¹åˆ°æœªåœ¨æ ‘ä¸­èŠ‚ç‚¹åˆ°æœ€å°ä»£ä»·é“¾æ¥
		b. å°†è¯¥é“¾æ¥åˆ°ç›®æ ‡èŠ‚ç‚¹æ·»åŠ åˆ°ç”Ÿæˆæ ‘
```



## Pythonå®ç°

æ–‡ä¸­æ¶‰åŠçš„ä»£ç è¿˜æ˜¯æ¯”è¾ƒå¤šçš„ï¼Œæˆ‘å†™äº†å…¶ä¸­ä¸€äº›çš„ Python å®ç°ï¼Œæ”¾åˆ°äº† GitHubï¼š

* [https://github.com/cdfmlr/Graph_Python](https://github.com/cdfmlr/Graph_Python)

